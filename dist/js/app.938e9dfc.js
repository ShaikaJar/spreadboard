(function(){"use strict";var t={2517:function(t,e,n){n(6133);var o=n(9242),i=n(3396);const a={style:{display:"flex","flex-flow":"column"}},s={class:"editor"},r={class:"editor-container"},c={class:"output-view-container"},u=(0,i._)("div",{class:"output-view"}," Test ",-1);function d(t,e){const n=(0,i.up)("ReteEditor"),o=(0,i.up)("ReteDock");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("div",s,[(0,i._)("div",r,[(0,i.Wm)(n)]),(0,i._)("div",c,[u,(0,i._)("button",{onClick:e[0]||(e[0]=e=>t.triggDownload())},"Download")])]),(0,i.Wm)(o)])}var l=n(6520);const p={class:"rete",ref:"reteElm"};function v(t,e){return(0,i.wg)(),(0,i.iD)("div",p,null,512)}var h=n(4870),k=n(4306),m=n(4541),g=n(5443),w=n(869),f=n(7212),y=n(1329),b=n(2482);const S={val:"Wert",ref:"Variable",num:"Zahl",addIn:"Summand",act:"Aktion",txt:"Text",add:"Addiere",res:"Ergebnis",curVal:"Aktueller Wert",initVal:"Startwert",setVar:"Setze Variable",button:"Drücker",header:"Überschrift",combine:"Zusammenfügen",numVar:"Variable:\nZahl",type:"Datentyp",view:"Anzeige",wait:"Warten",curTime:"Verbleibende Zeit",initTime:"Start-Zeit",trigger:"Auslöser",event:"Ereigniss",bool:"Wahrheitswert",condition:"Bedingung",if:"Falls",else:"Sonst"},Z={de:S};var x=Z;class C{constructor(t){(0,b.Z)(this,"name",void 0),(0,b.Z)(this,"refSocket",void 0),(0,b.Z)(this,"valSocket",void 0),this.name=t,this.refSocket=new k.sk(t+" ref"),this.valSocket=new k.sk(t+" val")}}class P{constructor(){(0,b.Z)(this,"anyTypeSocket",new C("any")),(0,b.Z)(this,"anySocket",new k.sk("*")),(0,b.Z)(this,"typeSocket",new k.sk("type")),(0,b.Z)(this,"types",void 0),(0,b.Z)(this,"actSocket",(()=>this.get("act").valSocket)),(0,b.Z)(this,"eventSocket",(()=>this.get("act").refSocket)),(0,b.Z)(this,"numSocket",(()=>this.get("number"))),(0,b.Z)(this,"textSocket",(()=>this.get("text"))),(0,b.Z)(this,"boolSocket",(()=>this.get("boolean"))),this.types=new Map,this.anySocket.combineWith(this.anyTypeSocket.refSocket),this.anySocket.combineWith(this.anyTypeSocket.valSocket),this.anyTypeSocket.valSocket.combineWith(this.anySocket),this.anyTypeSocket.refSocket.combineWith(this.anySocket)}add(t){if(!(t in this.types.keys())){const e=new C(t);this.types.set(t,e),e.refSocket.combineWith(this.anyTypeSocket.refSocket),e.valSocket.combineWith(this.anyTypeSocket.valSocket),e.valSocket.combineWith(this.anySocket),e.refSocket.combineWith(this.anySocket),this.anyTypeSocket.refSocket.combineWith(e.refSocket),this.anyTypeSocket.valSocket.combineWith(e.valSocket),this.anySocket.combineWith(e.refSocket),this.anySocket.combineWith(e.valSocket)}}getRefByVal(t){return"type"==t.name||"*"==t.name?t:this.get(t.name.replace(" val","")).refSocket}getValByRef(t){return"type"==t.name||"*"==t.name?t:this.get(t.name.replace(" ref","")).valSocket}get(t){return this.types.get(t)}}const I=new P;I.add("text"),I.add("number"),I.add("boolean"),I.add("act"),I.numSocket().valSocket.combineWith(I.textSocket().valSocket);class V extends k.ZP.Component{constructor(t){super(x.de.view),(0,b.Z)(this,"containerQuery",void 0),this.containerQuery=t}async builder(t){return t.addInput(new k.ZP.Input("in","",I.textSocket().valSocket)),t}worker(t,e,n){if(this.containerQuery){const t=document.querySelector(this.containerQuery);t&&(t.innerHTML=void 0!=e["in"][0]&&null!=e["in"][0]?e["in"][0]:"")}}}var O=n(7139);const D={class:"control title"},_=["readonly","value"];function W(t,e,n,a,s,r){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",D,(0,O.zw)(n.title?n.title+":":""),1),(0,i._)("input",{type:"number",readonly:n.readonly,value:s.value,onInput:e[0]||(e[0]=t=>r.change(t)),onDblclick:e[1]||(e[1]=(0,o.iM)((()=>{}),["stop"])),onPointerdown:e[2]||(e[2]=(0,o.iM)((()=>{}),["stop"])),onPointermove:e[3]||(e[3]=(0,o.iM)((()=>{}),["stop"]))},null,40,_)],64)}var R={props:["readonly","emitter","ikey","getData","putData","title"],name:"VueNumComponent",data(){return{value:0}},methods:{change(t){this.value=+t.target.value,this.update()},update(){this.ikey&&this.putData(this.ikey,this.value),this.emitter("process",this.value)}},mounted(){this.value=this.getData(this.ikey)}};(0,i.bv)((()=>{(void 0).value=(void 0).getData((void 0).ikey)}));var T=n(89);const E=(0,T.Z)(R,[["render",W],["__scopeId","data-v-62a52214"]]);var M=E;class j extends k.ZP.Control{constructor(t,e,n=!1,o=null){super(e),(0,b.Z)(this,"component",void 0),(0,b.Z)(this,"props",void 0),this.component=M,this.props={emitter:t,ikey:e,readonly:n,title:o}}setValue(t){this.vueContext.value=t}getValue(){return this.vueContext.value}}class B extends k.ZP.Component{constructor(){super(x.de.add)}async builder(t){const e=new k.ZP.Input("num",x.de.addIn,I.numSocket().valSocket),n=new k.ZP.Input("num2",x.de.addIn,I.numSocket().valSocket),o=new k.ZP.Output("num",x.de.res,I.numSocket().valSocket);e.addControl(new j(((t,e)=>_t.trigger(t)),"num",!1,x.de.addIn)),n.addControl(new j(((t,e)=>_t.trigger(t)),"num2",!1,x.de.addIn)),t.addInput(e).addInput(n).addControl(new j(((t,e)=>{}),"preview",!0,x.de.res)).addOutput(o)}worker(t,e,n,...o){const i=e["num"].length?e["num"][0]:t.data.num,a=e["num2"].length?e["num2"][0]:t.data.num2,s=i+a,r=_t.nodes.find((e=>e.id==t.id)).controls.get("preview");r.setValue(s),n["num"]=s}}class L extends k.ZP.Component{constructor(){super(x.de.num)}async builder(t){const e=new k.ZP.Output("num",x.de.num,I.numSocket().valSocket);return t.addControl(new j(((t,e)=>_t.trigger(t)),"num",!1)).addOutput(e)}worker(t,e,n){n["num"]=t.data.num}}const z={class:"title control"},A=["readonly","value"];function H(t,e,n,a,s,r){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",z,(0,O.zw)(n.title?n.title+":":""),1),(0,i._)("input",{type:"text",readonly:n.readonly,value:s.value,onInput:e[0]||(e[0]=t=>r.change(t)),onDblclick:e[1]||(e[1]=(0,o.iM)((()=>{}),["stop"])),onPointerdown:e[2]||(e[2]=(0,o.iM)((()=>{}),["stop"])),onPointermove:e[3]||(e[3]=(0,o.iM)((()=>{}),["stop"]))},null,40,A)],64)}var N={props:["readonly","emitter","ikey","getData","putData","title"],name:"VueTextComponent",data(){return{value:""}},methods:{change(t){this.value=t.target.value,this.update()},update(){this.ikey&&this.putData(this.ikey,this.value),this.emitter.trigger("process")}},mounted(){this.value=this.getData(this.ikey)}};(0,i.bv)((()=>{(void 0).value=(void 0).getData((void 0).ikey),(void 0).value||((void 0).value="")}));const J=(0,T.Z)(N,[["render",H],["__scopeId","data-v-26f6d556"]]);var Q=J;class Y extends k.ZP.Control{constructor(t,e,n=!1,o=null){super(e),(0,b.Z)(this,"component",void 0),(0,b.Z)(this,"props",void 0),this.component=Q,this.props={emitter:t,ikey:e,readonly:n,title:o}}setValue(t){this.vueContext.value=t}}class q extends k.ZP.Component{constructor(){super(x.de.txt)}async builder(t){const e=new k.ZP.Output("txt",x.de.txt,I.textSocket().valSocket);return t.addControl(new Y(_t,"txt",!1)).addOutput(e)}worker(t,e,n){n["txt"]=t.data.txt}}class F extends k.ZP.Component{constructor(){super(x.de.combine)}async builder(t){const e=new k.ZP.Input("txt",x.de.txt,I.numSocket().valSocket),n=new k.ZP.Input("txt2",x.de.txt,I.numSocket().valSocket),o=new k.ZP.Output("txt",x.de.res,I.numSocket().valSocket);e.addControl(new Y(_t,"txt",!1)),n.addControl(new Y(_t,"txt2",!1)),t.addInput(e).addInput(n).addControl(new Y(_t,"preview",!0)).addOutput(o)}worker(t,e,n,...o){let i=e["txt"].length?e["txt"][0]:t.data.txt;void 0==i&&(i="");let a=e["txt2"].length?e["txt2"][0]:t.data.txt2;void 0==a&&(a="");const s=i+""+a;return _t.nodes.find((e=>e.id==t.id)).controls.get("preview").setValue(s),n["txt"]=s,null}}class U extends k.ZP.Component{constructor(){super(x.de.header)}async builder(t){const e=new k.ZP.Input("txt",x.de.txt,I.textSocket().valSocket),n=new k.ZP.Output("h",x.de.header,I.textSocket().valSocket);return e.addControl(new Y(_t,"txt",!1)),t.addInput(e).addControl(new Y(_t,"preview",!0)).addOutput(n)}worker(t,e,n){const o=e["txt"].length?e["txt"][0]:t.data.txt,i="<h1>"+o+"</h1>";_t.nodes.find((e=>e.id==t.id)).controls.get("preview").setValue(i),n["h"]=i}}class G{constructor(t){(0,b.Z)(this,"onChange",void 0),(0,b.Z)(this,"getEdited",(()=>this.edited)),(0,b.Z)(this,"get",(()=>this.curValue)),(0,b.Z)(this,"getInitial",(()=>this.initVal)),this.onChange=t}set(t){const e=this.curValue;this.curValue=t,e!=this.curValue&&(this.edited=!0,this.onChange(t))}setInitial(t){const e=this.curValue;this.initVal=t,this.edited||(this.curValue=t,e!=this.curValue&&this.onChange(t))}reset(){const t=this.curValue;this.curValue=this.initVal,this.edited=!1,this.curValue!=t&&this.onChange(this.curValue)}}class K extends k.ZP.Component{constructor(){super(x.de.numVar),(0,b.Z)(this,"variables",void 0),this.variables=new Map}async builder(t){const e=new j(((t,e)=>{_t.trigger(t)}),"curVal",!0,x.de.curVal),n=new G((n=>{console.log("Value Changed"),e.setValue(n),t.update(),_t.trigger("process")})),o=new k.ZP.Input("init",x.de.initVal,I.numSocket().valSocket);o.addControl(new j(((t,e)=>{n.setInitial(e)}),"init",!1,x.de.val)),this.variables.set(t.id,n);const i=new k.ZP.Output("ref",x.de.ref,I.numSocket().refSocket),a=new k.ZP.Output("val",x.de.curVal,I.numSocket().valSocket),s=new k.ZP.Output("type",x.de.type,I.typeSocket);return t.addControl(e).addInput(o).addOutput(s).addOutput(i).addOutput(a)}setPreview(t,e){const n=t.controls.get("curVal");n&&n.setValue(e)}worker(t,e,n){const o=e["init"].length?e["init"][0]:t.data.init,i=this.variables.get(t.id);i.setInitial(o);const a=_t.nodes.find((e=>e.id==t.id));this.setPreview(a,i.get()),n["val"]=i.get(),n["ref"]=i,n["type"]="number"}}function X(t,e,n,o,a,s){return(0,i.wg)(),(0,i.iD)("button",{onClick:e[0]||(e[0]=t=>s.change(""))})}var $={props:["emitter","ikey"],name:"VueButtonComponent",methods:{change(t){this.emitter(t)}}};const tt=(0,T.Z)($,[["render",X],["__scopeId","data-v-0e180730"]]);var et=tt;class nt extends k.ZP.Control{constructor(t,e){super(e),(0,b.Z)(this,"component",void 0),(0,b.Z)(this,"props",void 0),this.component=et,this.props={emitter:t,ikey:e}}}class ot{constructor(){(0,b.Z)(this,"listeners",new Map),this.listeners}on(t,e,n){for(const o of t)this.listeners.get(o)||this.listeners.set(o,new Map),this.listeners.get(o).set(e,n)}removeListener(t){for(const e of this.listeners.keys())this.listeners.get(e)&&this.listeners.get(e).delete(t)}trigger(t,...e){if(this.listeners.get(t))for(const n of this.listeners.get(t).values())new Promise((t=>setTimeout(t,0))).then((()=>n(t,e)))}}const it=new ot;var at=it;class st extends k.ZP.Component{constructor(){super(x.de.button)}async builder(t){t.addControl(new nt((()=>{at.trigger(t.id+"-onClick")}),"start")),t.addOutput(new k.ZP.Output("act","",I.actSocket()))}worker(t,e,n){n["act"]=t.id+"-onClick"}}class rt extends k.ZP.Component{constructor(){super(x.de.setVar),(0,b.Z)(this,"types",void 0),this.types=new Map}async builder(t){const e=new k.ZP.Input("ref",x.de.ref,I.anyTypeSocket.refSocket),n=new k.ZP.Input("val",x.de.val,I.anyTypeSocket.valSocket),o=new k.ZP.Input("act",x.de.act,I.actSocket()),i=new k.ZP.Output("act",x.de.act,I.actSocket());return t.addInput(e).addInput(n).addInput(o).addOutput(i)}worker(t,e,n){at.removeListener(t.id);const o=this.editor.nodes.find((e=>e.id==t.id)),i=o.getConnections().find(((t,e)=>"ref"==t.input.key)),a=o.getConnections().find(((t,e)=>"val"==t.input.key));i&&i.output.socket&&a&&a.output.socket&&a.output.socket!=I.getValByRef(i.output.socket)?a.remove():i&&i.output.socket?o.inputs.get("val").socket=I.getValByRef(i.output.socket):a&&a.output.socket&&(o.inputs.get("ref").socket=I.getRefByVal(a.output.socket)),n["act"]=t.id+"",at.on([e["act"][0]],t.id,((n,...o)=>{this.task(t,e)}))}async task(t,e){const n=e["ref"][0],o=e["val"][0];n&&null!=o&&n.set(o)}}const ct={class:"control title"},ut={style:{margin:"0",display:"flex","align-items":"center","justify-content":"center"}},dt={class:"bar-container"};function lt(t,e,n,o,a,s){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",ct,(0,O.zw)(n.title?n.title+":":""),1),(0,i._)("div",ut,[(0,i._)("div",dt,[(0,i._)("div",{class:"bar",style:(0,O.j5)("width:"+a.value+"%")},null,4)])])],64)}var pt={props:["ikey","getData","putData","title"],name:"VueLoadingComponent",data(){return{value:100}},mounted(){this.value=this.getData(this.ikey)}};(0,i.bv)((()=>{(void 0).value=(void 0).getData((void 0).ikey)}));const vt=(0,T.Z)(pt,[["render",lt],["__scopeId","data-v-2a5fc972"]]);var ht=vt;class kt extends k.ZP.Control{constructor(t,e,n=!1,o=null){super(e),(0,b.Z)(this,"component",void 0),(0,b.Z)(this,"props",void 0),(0,b.Z)(this,"cur",1),(0,b.Z)(this,"max",1),this.component=ht,this.props={ikey:e,title:o}}setValue(t){this.vueContext.value=t}getValue(){return this.vueContext.value}}class mt extends k.ZP.Component{constructor(){super(x.de.wait),(0,b.Z)(this,"variables",new Map)}async builder(t){const e=new kt(((t,e)=>{}),"preview",!0),n=new j(((t,n)=>{const o=i.getInitial();i.setInitial(n),e.setValue(o*e.getValue()/n)}),"val",!1),o=new k.ZP.Input("val",x.de.initTime,I.get("number").valSocket),i=new G((t=>{e.setValue(Math.round(100*t/i.getInitial()))}));return o.addControl(n),this.variables.set(t.id,i),t.addInput(o).addControl(e).addOutput(new k.ZP.Output("act","",I.actSocket())).addInput(new k.ZP.Input("act","",I.actSocket()))}worker(t,e,n){at.removeListener(t.id);_t.nodes.find((e=>e.id==t.id));const o=this.variables.get(t.id),i=e["val"].length?e["val"][0]:t.data.val;n["act"]=t.id+"",o.setInitial(i),at.on([e["act"][0]],t.id,((n,...o)=>{this.task(t,e)}))}delay(t){return new Promise((e=>setTimeout(e,t)))}async task(t,e){const n=this.variables.get(t.id);if(n.getEdited())return void n.reset();let o=Date.now(),i=o;const a=10;while(n.get()>0)await this.delay(a),i=Date.now(),n.set(n.get()-(i-o)/1e3),o=i;n.reset(),n.set(n.get()),at.trigger(t.id+"")}}class gt extends k.ZP.Component{constructor(){super(x.de.trigger)}async builder(t){t.addInput(new k.ZP.Input("actRef","",I.eventSocket())),t.addInput(new k.ZP.Input("act","",I.actSocket(),!0))}worker(t,e,n){at.removeListener(t.id),at.on(e["act"],t.id,((t,...n)=>{null!=e["actRef"][0]&&at.trigger(e["actRef"][0])}))}}class wt extends k.ZP.Component{constructor(){super(x.de.event)}async builder(t){t.addOutput(new k.ZP.Output("actRef","",I.eventSocket())),t.addOutput(new k.ZP.Output("act","",I.actSocket()))}worker(t,e,n){n["actRef"]=t.id+"-trigger",n["act"]=t.id+"-event",at.removeListener(t.id),at.on([n["actRef"]],t.id,((t,...e)=>{null!=n["act"]&&at.trigger(n["act"])}))}}const ft={class:"control title"},yt={class:"container"},bt={class:"background-container"};function St(t,e,n,o,a,s){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",ft,(0,O.zw)(n.title?n.title+":":""),1),(0,i._)("div",yt,[(0,i._)("div",{class:"switch",onClick:e[0]||(e[0]=t=>s.change(t))},[(0,i._)("div",bt,[(0,i._)("div",{class:(0,O.C_)("background "+(a.value?"checked":""))},null,2)]),(0,i._)("div",{class:(0,O.C_)("box "+(a.value?"checked":""))},null,2)])])],64)}var Zt={props:["readonly","emitter","ikey","getData","putData","title"],name:"VueBoolComponent",data(){return{value:!1}},methods:{change(t){console.log(t.target.checked),this.value=!this.value,this.update()},update(){this.ikey&&this.putData(this.ikey,this.value),this.emitter("process",this.value)}},mounted(){this.value=this.getData(this.ikey)}};(0,i.bv)((()=>{(void 0).value=(void 0).getData((void 0).ikey)}));const xt=(0,T.Z)(Zt,[["render",St],["__scopeId","data-v-17cc7d4c"]]);var Ct=xt;class Pt extends k.ZP.Control{constructor(t,e,n=!1,o=null){super(e),(0,b.Z)(this,"component",void 0),(0,b.Z)(this,"props",void 0),this.component=Ct,this.props={emitter:t,ikey:e,readonly:n,title:o}}setValue(t){this.vueContext.value=t}getValue(){return this.vueContext.value}}class It extends k.ZP.Component{constructor(){super(x.de.bool)}async builder(t){const e=new k.ZP.Output("bool",x.de.bool,I.boolSocket().valSocket);return t.addControl(new Pt(((t,e)=>_t.trigger(t)),"bool",!1)).addOutput(e)}worker(t,e,n){n["bool"]=t.data.bool}}class Vt extends k.ZP.Component{constructor(){super(x.de.condition)}async builder(t){const e=new k.ZP.Input("bool",x.de.bool,I.boolSocket().valSocket),n=new k.ZP.Input("if",x.de["if"],I.anySocket),o=new k.ZP.Input("else",x.de["else"],I.anySocket),i=new k.ZP.Output("res",x.de.res,I.anySocket);return t.addInput(e).addInput(n).addInput(o).addOutput(i)}reconnectOutput(t,e,n){t&&(n.compatibleWith(t.socket)||e?.remove(),t.socket=n)}reconnectInput(t,e,n){t&&(n.compatibleWith(t.socket)||e?.remove(),t.socket=n)}worker(t,e,n){at.removeListener(t.id);const o=this.editor.nodes.find((e=>e.id==t.id)),i=o.getConnections().find(((t,e)=>"if"==t.input.key)),a=o.getConnections().find(((t,e)=>"else"==t.input.key)),s=o.getConnections().find(((t,e)=>"res"==t.input.key));let r=I.anySocket;i&&i.output.socket?r=i.output.socket:a&&a.output.socket?r=a.output.socket:s&&s.output.socket&&(r=s.output.socket),this.reconnectInput(o.inputs.get("if"),i,r),this.reconnectInput(o.inputs.get("else"),a,r),this.reconnectOutput(o.outputs.get("res"),s,r),console.log(e["bool"][0]),n["res"]=e["bool"][0]?e["if"][0]:e["else"][0]}}class Ot extends k.it{trigger(t,e){return super.trigger(t,e)}}const Dt={id:"demo@0.1.0",nodes:{14:{id:14,data:{},inputs:{in:{connections:[{node:15,output:"val",data:{}}]}},outputs:{},position:[475.704839080989,-67.21715615165667],name:"Anzeige"},15:{id:15,data:{init:1},inputs:{init:{connections:[]}},outputs:{type:{connections:[]},ref:{connections:[{node:17,input:"ref",data:{}}]},val:{connections:[{node:19,input:"num",data:{}},{node:20,input:"num",data:{}},{node:14,input:"in",data:{}}]}},position:[-296.13244996723756,-192.81906941216266],name:"Variable:\nZahl"},16:{id:16,data:{bool:!1},inputs:{},outputs:{bool:{connections:[{node:18,input:"bool",data:{}}]}},position:[87.00270014444396,49.81343543681821],name:"Wahrheitswert"},17:{id:17,data:{},inputs:{ref:{connections:[{node:15,output:"ref",data:{}}]},val:{connections:[{node:18,output:"res",data:{}}]},act:{connections:[{node:25,output:"res",data:{}}]}},outputs:{act:{connections:[]}},position:[801.587425854445,-191.34663947969932],name:"Setze Variable"},18:{id:18,data:{},inputs:{bool:{connections:[{node:16,output:"bool",data:{}}]},if:{connections:[{node:19,output:"num",data:{}}]},else:{connections:[{node:20,output:"num",data:{}}]}},outputs:{res:{connections:[{node:17,input:"val",data:{}}]}},position:[463.3349592855515,155.716431618088],name:"Bedingung"},19:{id:19,data:{num2:1},inputs:{num:{connections:[{node:15,output:"val",data:{}}]},num2:{connections:[]}},outputs:{num:{connections:[{node:18,input:"if",data:{}}]}},position:[93.07408603372114,222.43367702103302],name:"Addiere"},20:{id:20,data:{num2:-1},inputs:{num:{connections:[{node:15,output:"val",data:{}}]},num2:{connections:[]}},outputs:{num:{connections:[{node:18,input:"else",data:{}}]}},position:[86.66979646391361,472.41367906726475],name:"Addiere"},21:{id:21,data:{},inputs:{},outputs:{actRef:{connections:[{node:23,input:"actRef",data:{}}]},act:{connections:[{node:25,input:"if",data:{}},{node:22,input:"act",data:{}}]}},position:[202.98477439531933,-837.9360977894372],name:"Ereigniss"},22:{id:22,data:{val:3},inputs:{val:{connections:[]},act:{connections:[{node:21,output:"act",data:{}}]}},outputs:{act:{connections:[{node:23,input:"act",data:{}}]}},position:[761.4111930880648,-727.0837792118829],name:"Warten"},23:{id:23,data:{},inputs:{actRef:{connections:[{node:21,output:"actRef",data:{}}]},act:{connections:[{node:22,output:"act",data:{}},{node:24,output:"act",data:{}}]}},outputs:{},position:[1341.105416979991,-841.0902379918624],name:"Auslöser"},24:{id:24,data:{},inputs:{},outputs:{act:{connections:[{node:23,input:"act",data:{}}]}},position:[1072.8360171208794,-654.9653428776915],name:"Drücker"},25:{id:25,data:{},inputs:{bool:{connections:[{node:26,output:"bool",data:{}}]},if:{connections:[{node:21,output:"act",data:{}}]},else:{connections:[]}},outputs:{res:{connections:[{node:17,input:"act",data:{}}]}},position:[527.3702224344131,-502.231731391048],name:"Bedingung"},26:{id:26,data:{bool:!1},inputs:{},outputs:{bool:{connections:[{node:25,input:"bool",data:{}}]}},position:[151.64642561674276,-520.2168585287731],name:"Wahrheitswert"}}};let _t=null;function Wt(){const t=JSON.stringify(_t),e=new Blob([t],{type:"text/json"}),n=document.createEvent("MouseEvents"),o=document.createElement("a");o.download="save.json",o.href=window.URL.createObjectURL(e),o.dataset.downloadurl=["text/json",o.download,o.href].join(":"),n.initEvent("click",!0,!1),o.dispatchEvent(n)}async function Rt(t){_t=new Ot("demo@0.1.0",t);const e=new k.ZP.Engine("demo@0.1.0");_t.use(g.Z),_t.use(m.Z),_t.use(f.Z,{background:!1,snap:!1,scaleExtent:{min:.25,max:1},translateExtent:{width:5e3,height:4e3}});const n=new V(".output-view");_t.register(n),e.register(n),_t.use(w.ZP),_t.use(y.Z,{container:document.querySelector(".dock"),plugins:[m.Z]});const o=[new B,new L,new q,new F,new U,new K,new st,new rt,new mt,new gt,new wt,new It,new Vt];for(let i=0;i<o.length;i++)_t.register(o[i]),e.register(o[i]);await _t.fromJSON(Dt);for(const i of Object.values(Dt.nodes))if(_t.nodes.find((t=>t.id==i.id))){const t=_t.nodes.find((t=>t.id==i.id));t.worker&&t.worker(i,[],[])}_t.on(["connectioncreate","connectionremove","nodecreate","noderemove"],(t=>{_t.trigger("process")})),_t.on("process",(async()=>{console.log("json",_t.toJSON()),await e.abort(),await e.process(_t.toJSON())})),_t.view.resize(),_t.trigger("process")}var Tt={name:"ReteEditor",setup(){const t=(0,h.iH)(null);return(0,i.bv)((()=>{Rt(t.value)})),{reteElm:t}}};const Et=(0,T.Z)(Tt,[["render",v]]);var Mt=Et;const jt={class:"dock"},Bt=(0,i._)("h3",null,"Options",-1),Lt=[Bt];function zt(t,e,n,o,a,s){return(0,i.wg)(),(0,i.iD)("div",jt,Lt)}var At={name:"ReteDock",setup(){}};const Ht=(0,T.Z)(At,[["render",zt]]);var Nt,Jt,Qt=Ht;let Yt=(Nt=(0,l.Ei)({components:{ReteEditor:Mt,ReteDock:Qt},methods:{triggDownload(){Wt()}}}),Nt(Jt=class extends l.w3{})||Jt);const qt=(0,T.Z)(Yt,[["render",d]]);var Ft=qt;(0,o.ri)(Ft).mount("#app")}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var a=e[o]={exports:{}};return t[o](a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,o,i,a){if(!o){var s=1/0;for(d=0;d<t.length;d++){o=t[d][0],i=t[d][1],a=t[d][2];for(var r=!0,c=0;c<o.length;c++)(!1&a||s>=a)&&Object.keys(n.O).every((function(t){return n.O[t](o[c])}))?o.splice(c--,1):(r=!1,a<s&&(s=a));if(r){t.splice(d--,1);var u=i();void 0!==u&&(e=u)}}return e}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[o,i,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,a,s=o[0],r=o[1],c=o[2],u=0;if(s.some((function(e){return 0!==t[e]}))){for(i in r)n.o(r,i)&&(n.m[i]=r[i]);if(c)var d=c(n)}for(e&&e(o);u<s.length;u++)a=s[u],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(d)},o=self["webpackChunkspreadboard"]=self["webpackChunkspreadboard"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(2517)}));o=n.O(o)})();
//# sourceMappingURL=app.938e9dfc.js.map