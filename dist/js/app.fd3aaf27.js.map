{"version":3,"file":"js/app.fd3aaf27.js","mappings":"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","sources":["webpack://spreadboard/./src/App.vue","webpack://spreadboard/./src/components/ReteEditor.vue","webpack://spreadboard/./src/i18n.ts","webpack://spreadboard/./src/editor/sockets.ts","webpack://spreadboard/./src/editor/misc/OutputComponent.ts","webpack://spreadboard/./src/components/VueNumControl.vue","webpack://spreadboard/./src/components/VueNumControl.vue?c75e","webpack://spreadboard/./src/editor/controls/NumControl.ts","webpack://spreadboard/./src/editor/operations/AddComponent.ts","webpack://spreadboard/./src/editor/values/NumComponent.ts","webpack://spreadboard/./src/components/VueTextControl.vue","webpack://spreadboard/./src/components/VueTextControl.vue?08ac","webpack://spreadboard/./src/editor/controls/TextControl.ts","webpack://spreadboard/./src/editor/values/TextComponent.ts","webpack://spreadboard/./src/editor/operations/CombineComponent.ts","webpack://spreadboard/./src/editor/misc/HeaderComponent.ts","webpack://spreadboard/./src/editor/variables/Variable.ts","webpack://spreadboard/./src/editor/variables/NumVarComponent.ts","webpack://spreadboard/./src/components/VueButtonControl.vue","webpack://spreadboard/./src/components/VueButtonControl.vue?8b82","webpack://spreadboard/./src/editor/controls/ButtonControl.ts","webpack://spreadboard/./src/editor/controlFlow/EventEmitter.ts","webpack://spreadboard/./src/editor/controlFlow/ButtonComponent.ts","webpack://spreadboard/./src/editor/variables/SetVarComponent.ts","webpack://spreadboard/./src/components/VueLoadingControl.vue","webpack://spreadboard/./src/components/VueLoadingControl.vue?867a","webpack://spreadboard/./src/editor/controls/LoadingControl.ts","webpack://spreadboard/./src/editor/controlFlow/WaitComponent.ts","webpack://spreadboard/./src/editor/controlFlow/TriggerComponent.ts","webpack://spreadboard/./src/editor/controlFlow/EventComponent.ts","webpack://spreadboard/./src/components/VueBoolControl.vue","webpack://spreadboard/./src/components/VueBoolControl.vue?b41c","webpack://spreadboard/./src/editor/controls/BoolControl.ts","webpack://spreadboard/./src/editor/values/BoolComponent.ts","webpack://spreadboard/./src/editor/controlFlow/ConditionComponent.ts","webpack://spreadboard/./src/editor/myEditor.ts","webpack://spreadboard/./src/editor/index.ts","webpack://spreadboard/./src/components/ReteEditor.vue?d993","webpack://spreadboard/./src/components/ReteDock.vue","webpack://spreadboard/./src/components/ReteDock.vue?dcb1","webpack://spreadboard/./src/App.vue?7ccd","webpack://spreadboard/./src/main.ts","webpack://spreadboard/webpack/bootstrap","webpack://spreadboard/webpack/runtime/chunk loaded","webpack://spreadboard/webpack/runtime/compat get default export","webpack://spreadboard/webpack/runtime/define property getters","webpack://spreadboard/webpack/runtime/global","webpack://spreadboard/webpack/runtime/hasOwnProperty shorthand","webpack://spreadboard/webpack/runtime/jsonp chunk loading","webpack://spreadboard/webpack/startup"],"sourcesContent":["<template>\n  <div class=\"spreadboard\">\n    <div class=\"editor-container\" :style=\"'height:'+($vssHeight*0.60)+'px'\">\n      <div class=\"editor-box\" :style=\"'width:'+($vssWidth*0.75)+'px;'+'height:'+($vssHeight*0.60)+'px'\">\n        <ReteEditor/>\n      </div>\n      <div class=\"output-view-container\" :style=\"'width:'+($vssWidth*0.28)+'px; height:100%'\">\n        <div class=\"button-row\">\n          <div class=\"popup off\"></div>\n          <button @click=\"triggClear()\">Leeren</button>\n          <button @click=\"triggDownload($event)\">Speichern</button>\n          <button @click=\"triggImport()\">Laden</button>\n          <button @click=\"triggLoadExample()\">Lade Beispiel</button>\n        </div>\n        <div class=\"output-view\">\n          Test\n        </div>\n      </div>\n    </div>\n    <div class=\"dock-box\" :style=\"'height:'+($vssHeight*0.3)+'px'\">\n      <ReteDock/>\n    </div>\n  </div>\n</template>\n\n<script lang=\"js\">\nimport 'regenerator-runtime/runtime'\nimport {Options, Vue} from 'vue-class-component';\nimport ReteEditor from './components/ReteEditor.vue';\nimport ReteDock from './components/ReteDock.vue';\nimport {clearBoard, loadExample, saveBoard, importBoard} from \"@/editor\";\nimport {VueScreenSizeMixin} from \"vue-screen-size\";\n\n@Options({\n  mixins: [VueScreenSizeMixin],\n  components: {\n    ReteEditor,\n    ReteDock,\n  },\n  methods: {\n    triggDownload() {\n      const popup = document.querySelector('.popup');\n      popup.innerHTML = \"In Zwischenablage gespeichert\";\n      popup.classList.replace(\"off\", \"on\");\n      saveBoard();\n      new Promise(resolve => setTimeout(resolve, 1000)).then(\n          () => {\n            popup.classList.replace(\"on\", \"off\");\n          }\n      );\n    },\n    triggLoadExample() {\n      loadExample();\n      const popup = document.querySelector('.popup');\n      popup.innerHTML = \"Beispiel geladen\";\n      popup.classList.replace(\"off\", \"on\");\n      new Promise(resolve => setTimeout(resolve, 1000)).then(\n          () => {\n            popup.classList.replace(\"on\", \"off\");\n          }\n      );\n    },\n    triggClear() {\n      clearBoard();\n      const popup = document.querySelector('.popup');\n      popup.innerHTML = \"SpreadBoard geleert\";\n      popup.classList.replace(\"off\", \"on\");\n      new Promise(resolve => setTimeout(resolve, 1000)).then(\n          () => {\n            popup.classList.replace(\"on\", \"off\");\n          }\n      );\n    },\n    triggImport() {\n      importBoard();\n      const popup = document.querySelector('.popup');\n      popup.innerHTML = \"Import geladen\";\n      popup.classList.replace(\"off\", \"on\");\n      new Promise(resolve => setTimeout(resolve, 1000)).then(\n          () => {\n            popup.classList.replace(\"on\", \"off\");\n          }\n      );\n    }\n  }\n})\nexport default class App extends Vue {\n}\n\n</script>\n\n<style>\n\n.popup {\n  background: white;\n  color: black;\n  border-radius: 5px;\n  border: #2c3e50 solid 1px;\n  padding: 10px;\n  position: absolute;\n\n  z-index: -4;\n  opacity: 0;\n  transition: opacity ease-in-out 0.5s, z-index step-end 0.6s;\n}\n\n.popup.on {\n  opacity: 100%;\n  z-index: +4;\n  transition: opacity ease-in-out 0.5s, z-index step-start 0s;\n}\n\n\n.button-row {\n  border-top: #6f9aea solid .1vw;\n  display: flex;\n  flex-flow: row;\n  height: 2vw;\n  justify-content: center;\n  align-items: start;\n}\n\n.button-row > button {\n  display: block;\n  border-radius: 0 0 .5vw .5vw;\n  margin-top: 0;\n  padding-top: 0;\n  padding-bottom: .5vw;\n  border-color: #2c3e50;\n  border-top-width: 0;\n  width: 5vw;\n  height: 1.8vw;\n  background: #6f9aea;\n  color: white;\n}\n\n.button-row > button:hover {\n  height: 2.1vw;\n}\n\nbody {\n  padding-top: 0;\n  margin-top: 0;\n  padding-bottom: 0;\n  margin-bottom: 0;\n  background: #2c3e50;\n}\n\n.spreadboard {\n  margin: 0;\n  padding: 0;\n  height: 100%;\n  align-items: center;\n  justify-items: center;\n}\n\n.editor-container {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  color: #2c3e50;\n  margin-top: 25px;\n  display: flex;\n  justify-content: start;\n  align-items: start;\n  flex-flow: row;\n}\n\nselect, input {\n  width: 100%;\n  border-radius: 30px;\n  background-color: white;\n  padding: 2px 6px;\n  border: 1px solid #999;\n  font-size: 110%;\n}\n\n.output-view-container {\n  align-items: center;\n  justify-content: center;\n  border-left: #6f9aea solid 1px;\n}\n\n.output-view {\n  background: white;\n  color: black;\n  padding: 5px;\n  width: 30vh;\n  height: 50vh;\n  border-radius: 5px;\n  border: 3px solid #6f9aea;\n  margin: 5px;\n}\n</style>\n","<template>\n  <div class=\"rete\" ref=\"reteElm\"></div>\n</template>\n\n<script lang=\"js\">\nimport { ref, onMounted } from \"vue\";\nimport {start} from \"@/editor\";\nexport default {\n  name: \"ReteEditor\",\n  setup() {\n    const reteElm = ref(null);\n\n    onMounted(() => {\n      start(reteElm.value);\n    });\n\n    return {\n      reteElm,\n    };\n  },\n};\n</script>\n\n<style>\n\n.rete {\n  border-left: 1px solid #6f9aea;\n  border-top: 1px solid #6f9aea;\n}\n.socket[title~=\"act\"]{\n  background: coral;\n}\n.socket[title~=\"act\"][title~=\"ref\"]{\n  background: chocolate;\n}\n.socket[title~=\"ref\"]{\n  background: darkmagenta;\n}\n.socket.type{\n  background: cornflowerblue;\n}\n</style>\n","\nconst de = {\n    val: 'Wert',\n    ref: 'Variable',\n    num: 'Zahl',\n    addIn: 'Summand',\n    act: 'Aktion',\n    txt: 'Text',\n    add:'Addiere',\n    res: 'Ergebnis',\n    curVal: 'Aktueller Wert',\n    initVal: 'Startwert',\n    setVar: 'Setze Variable',\n    button: \"Drücker\",\n    header: 'Überschrift',\n    combine : 'Zusammenfügen',\n    numVar: 'Variable:\\nZahl',\n    type: 'Datentyp',\n    view: 'Anzeige',\n    wait: 'Warten',\n    curTime: 'Verbleibende Zeit',\n    initTime: 'Start-Zeit',\n    trigger: 'Auslöser',\n    event: 'Ereigniss',\n    bool: 'Wahrheitswert',\n    condition: 'Bedingung',\n    if: 'Falls',\n    else: 'Sonst'\n};\n\nconst i18n = {\n    de: de,\n}\n\nexport default i18n;","import Rete, {Socket as RSocket} from \"rete\";\n\n\nclass SocketType {\n    readonly name: string;\n    readonly refSocket: RSocket;\n    readonly valSocket: RSocket;\n\n    constructor(name: string) {\n        this.name = name;\n        this.refSocket = new RSocket(name + \" ref\");\n        this.valSocket = new RSocket(name + \" val\");\n    }\n}\n\n\nclass SocketTypeMap {\n\n    public anyTypeSocket = new SocketType(\"any\");\n    public anySocket = new RSocket(\"*\");\n    public typeSocket = new RSocket(\"type\");\n\n    private types: Map<string, SocketType>;\n    constructor() {\n        this.types = new Map();\n        this.anySocket.combineWith(this.anyTypeSocket.refSocket);\n        this.anySocket.combineWith(this.anyTypeSocket.valSocket);\n\n        this.anyTypeSocket.valSocket.combineWith(this.anySocket);\n        this.anyTypeSocket.refSocket.combineWith(this.anySocket);\n    }\n\n    add(typeName:string) {\n        if (!(typeName in this.types.keys())) {\n            const socket = new SocketType(typeName)\n            this.types.set(typeName,socket);\n            socket.refSocket.combineWith(this.anyTypeSocket.refSocket);\n            socket.valSocket.combineWith(this.anyTypeSocket.valSocket);\n\n            socket.valSocket.combineWith(this.anySocket);\n            socket.refSocket.combineWith(this.anySocket);\n\n            this.anyTypeSocket.refSocket.combineWith(socket.refSocket);\n            this.anyTypeSocket.valSocket.combineWith(socket.valSocket);\n\n            this.anySocket.combineWith(socket.refSocket);\n            this.anySocket.combineWith(socket.valSocket);\n        }\n    }\n\n    getRefByVal(socket: RSocket):RSocket{\n        if(socket.name==\"type\"||socket.name==\"*\")\n            return socket;\n        return this.get(socket.name.replace(\" val\",\"\"))!.refSocket;\n    }\n    getValByRef(socket: RSocket):RSocket{\n        if(socket.name==\"type\"||socket.name==\"*\")\n            return socket;\n        return this.get(socket.name.replace(\" ref\",\"\"))!.valSocket;\n    }\n\n    get(typeName:string) {\n        return this.types.get(typeName);\n    }\n\n    actSocket = ()=> this.get(\"act\")!.valSocket;\n    eventSocket = ()=> this.get(\"act\")!.refSocket;\n    numSocket = ()=> this.get(\"number\")!;\n    textSocket = ()=> this.get(\"text\")!;\n    boolSocket = ()=> this.get(\"boolean\")!;\n}\nconst types = new SocketTypeMap();\n\ntypes.add(\"text\")\ntypes.add(\"number\")\ntypes.add(\"boolean\")\ntypes.add(\"act\")\n\ntypes.numSocket().valSocket.combineWith(types.textSocket().valSocket);\n\nexport {SocketType, types as SocketTypes};\n","import Rete, {Node as RNode} from \"rete\";\nimport {Node as DNode} from \"rete/types/core/data\";\nimport {IOs} from \"rete/types/engine/component\";\nimport * as Socket from \"../sockets\";\nimport * as Sockets from \"@/editor/sockets\";\nimport i18n from \"@/i18n\";\nimport {SocketTypes} from \"../sockets\";\n\nexport class OutputComponent extends Rete.Component {\n    containerQuery;\n\n    constructor(containerQuery: string) {\n        super(i18n.de.view);\n        this.containerQuery = containerQuery;\n    }\n\n    async builder(node: RNode) {\n        node.addInput(new Rete.Input(\"in\", \"\", SocketTypes.textSocket().valSocket))\n        return node;\n    }\n\n\n    // eslint-disable-next-line no-unused-vars\n    worker(node: DNode, inputs: IOs, outputs: IOs) {\n        if (this.containerQuery) {\n            // eslint-disable-next-line no-undef\n            const container = document.querySelector(this.containerQuery);\n            if (container)\n                container.innerHTML = (inputs['in'][0] != undefined && inputs['in'][0] != null) ? inputs['in'][0] : \"\";\n\n        }\n    }\n\n}\n","<template>\n  <div class=\"control title\">{{title?(title+':'):''}}</div>\n  <input type=\"number\"\n         :readonly=\"readonly\"\n         :value=\"value\"\n         @input=\"change($event)\"\n         @dblclick.stop=\"\"\n         @pointerdown.stop=\"\"\n         @pointermove.stop=\"\"/>\n</template>\n\n<script>\nimport {onMounted} from \"vue\";\n\nexport default {\n  props: ['readonly', 'emitter', 'ikey', 'getData', 'putData', 'title'],\n  name: \"VueNumComponent\",\n  data() {\n    return {\n      value: 0,\n    }\n  },\n  methods: {\n    change(e){\n      this.value = +e.target.value;\n      this.update();\n    },\n    update() {\n      if (this.ikey)\n        this.putData(this.ikey, this.value)\n      this.emitter('process',this.value);\n    }\n  },\n  mounted() {\n    this.value = this.getData(this.ikey);\n  }\n}\n\nonMounted( () =>{\n  this.value = this.getData(this.ikey);\n})\n</script>\n\n<style scoped>\n.title{\n  color: white;\n}\ninput{\n  max-width: 6vw;\n}\n</style>","import { render } from \"./VueNumControl.vue?vue&type=template&id=62a52214&scoped=true\"\nimport script from \"./VueNumControl.vue?vue&type=script&lang=js\"\nexport * from \"./VueNumControl.vue?vue&type=script&lang=js\"\n\nimport \"./VueNumControl.vue?vue&type=style&index=0&id=62a52214&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/lorenz/WebstormProjects/spreadboard/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-62a52214\"]])\n\nexport default __exports__","import Rete from \"rete\";\n//@ts-ignore\nimport VueNumControl from \"@/components/VueNumControl.vue\";\nimport i18n from \"@/i18n\";\n\n\nexport class NumControl extends Rete.Control {\n    private component: any;\n    private props: Object;\n\n    constructor(emitter: Function, key:string, readonly:boolean = false, title:string|null = null) {\n        super(key);\n        this.component = VueNumControl;\n        this.props = { emitter, ikey: key, readonly, title: title };\n    }\n\n    setValue(val: number) {\n        //@ts-ignore\n        this.vueContext.value = val;\n    }\n    getValue() {\n        //@ts-ignore\n        return this.vueContext.value;\n    }\n}","import Rete, {Node as RNode} from \"rete\";\nimport {NumControl} from \"@/editor/controls/NumControl\";\n\nimport * as Sockets from \"@/editor/sockets\";\nimport {Node as DNode} from \"rete/types/core/data\";\nimport {IOs} from \"rete/types/engine/component\";\nimport i18n from \"@/i18n\";\nimport {editor} from \"@/editor\";\nimport {SocketTypes} from \"@/editor/sockets\";\n\nexport class AddComponent extends Rete.Component {\n    constructor(){\n        super(i18n.de.add);\n    }\n\n    async builder(node: RNode): Promise<void> {\n        const inp1 = new Rete.Input('num',i18n.de.addIn, SocketTypes.numSocket().valSocket);\n        const inp2 = new Rete.Input('num2', i18n.de.addIn, SocketTypes.numSocket().valSocket);\n        const out = new Rete.Output('num', i18n.de.res, SocketTypes.numSocket().valSocket);\n\n        inp1.addControl(new NumControl((event:string,val:number)=>editor.trigger(event), 'num', false, i18n.de.addIn))\n        inp2.addControl(new NumControl((event:string,val:number)=>editor.trigger(event), 'num2', false, i18n.de.addIn))\n\n        node\n            .addInput(inp1)\n            .addInput(inp2)\n            .addControl(new NumControl((event:string,val:number)=>{}, 'preview', true, i18n.de.res))\n            .addOutput(out);\n    }\n\n    worker(node: DNode, inputs:IOs, outputs:IOs, ...args: any) {\n        const n1: number = (<number>(inputs['num'].length ? inputs['num'][0] : node.data.num));\n        const n2: number = <number>(inputs['num2'].length?inputs['num2'][0]:node.data.num2);\n        const sum: number = n1 + n2;\n\n        //@ts-ignore\n        const preview = editor!.nodes!.find(n => n.id == node.id)!.controls.get('preview')!;\n        // @ts-ignore\n        preview.setValue(sum);\n        outputs['num'] = sum;\n    }\n}","import Rete, {Node as RNode} from \"rete\";\nimport {Node as DNode} from \"rete/types/core/data\";\nimport {IOs} from \"rete/types/engine/component\";\n\nimport {NumControl} from \"@/editor/controls/NumControl\";\nimport * as Sockets from \"@/editor/sockets\";\nimport i18n from \"@/i18n\";\nimport {editor} from \"@/editor\";\nimport {SocketTypes} from \"@/editor/sockets\";\n\nexport class NumComponent extends Rete.Component {\n\n    constructor(){\n        super(i18n.de.num);\n    }\n\n    async builder(node: RNode) {\n        const out1 = new Rete.Output('num', i18n.de.num, SocketTypes.numSocket().valSocket);\n\n        return node.addControl(new NumControl((event:string,val:number)=>editor.trigger(event), 'num', false)).addOutput(out1);\n    }\n\n    worker(node: DNode, inputs: IOs, outputs: IOs) {\n        outputs['num'] = node.data.num;\n    }\n}\n\n","<template>\n  <div class=\"title control\">{{title?(title+':'):''}}</div>\n  <input type=\"text\"\n         :readonly=\"readonly\"\n         :value=\"value\"\n         @input=\"change($event)\"\n         @dblclick.stop=\"\"\n         @pointerdown.stop=\"\"\n         @pointermove.stop=\"\"/>\n</template>\n\n<script>\nimport {onMounted} from \"vue\";\n\nexport default {\n  props: ['readonly', 'emitter', 'ikey', 'getData', 'putData', 'title'],\n  name: \"VueTextComponent\",\n  data() {\n    return {\n      value: \"\",\n    }\n  },\n  methods: {\n    change(e){\n      this.value = e.target.value;\n      this.update();\n    },\n    update() {\n      if (this.ikey)\n        this.putData(this.ikey, this.value)\n      this.emitter.trigger('process');\n    }\n  },\n  mounted() {\n    this.value = this.getData(this.ikey);\n  }\n}\n\nonMounted( () =>{\n  this.value = this.getData(this.ikey);\n  if(!this.value)\n    this.value = \"\";\n})\n</script>\n\n<style scoped>\n\n.title{\n  color: white;\n}\n</style>","import { render } from \"./VueTextControl.vue?vue&type=template&id=26f6d556&scoped=true\"\nimport script from \"./VueTextControl.vue?vue&type=script&lang=js\"\nexport * from \"./VueTextControl.vue?vue&type=script&lang=js\"\n\nimport \"./VueTextControl.vue?vue&type=style&index=0&id=26f6d556&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/lorenz/WebstormProjects/spreadboard/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-26f6d556\"]])\n\nexport default __exports__","import Rete from \"rete\";\n//@ts-ignore\nimport VueTextControl from \"@/components/VueTextControl.vue\";\nimport i18n from \"@/i18n\";\n\n\nexport class TextControl extends Rete.Control {\n    private component: any;\n    private props: any;\n\n    constructor(emitter: CallableFunction, key:string, readonly:boolean = false, title: string|null = null) {\n        super(key);\n        this.component = VueTextControl;\n        this.props = { emitter, ikey: key, readonly , title: title};\n    }\n\n    setValue(val:string) {\n        //@ts-ignore\n        this.vueContext.value = val;\n    }\n}","import Rete, {Node as RNode} from \"rete\";\nimport {Node as DNode} from \"rete/types/core/data\";\nimport {IOs} from \"rete/types/engine/component\";\nimport * as Sockets from \"@/editor/sockets\";\nimport {TextControl} from \"@/editor/controls/TextControl\";\nimport i18n from \"@/i18n\";\nimport {editor} from \"@/editor\";\nimport {SocketTypes} from \"@/editor/sockets\";\n\nexport class TextComponent extends Rete.Component {\n\n    constructor(){\n        super(i18n.de.txt);\n    }\n\n    async builder(node: RNode) {\n        const out1 = new Rete.Output('txt', i18n.de.txt, SocketTypes.textSocket().valSocket);\n\n        return node.addControl(new TextControl(editor, 'txt', false)).addOutput(out1);\n    }\n\n    worker(node: DNode, inputs:IOs, outputs:IOs) {\n        outputs['txt'] = node.data.txt;\n    }\n}\n\n","import Rete, {Node as RNode} from \"rete\";\n\nimport * as Sockets from \"@/editor/sockets\";\nimport {TextControl} from \"@/editor/controls/TextControl\";\nimport {IOs} from \"rete/types/engine/component\";\nimport {Node as DNode} from \"rete/types/core/data\";\nimport i18n from \"@/i18n\";\nimport {editor} from \"@/editor\";\nimport {SocketTypes} from \"@/editor/sockets\";\n\nexport class CombineComponent extends Rete.Component {\n    constructor(){\n        super(i18n.de.combine);\n    }\n\n    async builder(node: RNode) {\n        const inp1 = new Rete.Input('txt',i18n.de.txt, SocketTypes.numSocket().valSocket);\n        const inp2 = new Rete.Input('txt2', i18n.de.txt, SocketTypes.numSocket().valSocket);\n        const out = new Rete.Output('txt', i18n.de.res, SocketTypes.numSocket().valSocket);\n\n        inp1.addControl(new TextControl(editor, 'txt', false))\n        inp2.addControl(new TextControl(editor, 'txt2',false))\n\n        node\n            .addInput(inp1)\n            .addInput(inp2)\n            .addControl(new TextControl(editor, 'preview', true))\n            .addOutput(out);\n    }\n\n    worker(node:DNode, inputs:IOs, outputs:IOs, ...args: any) : any {\n        let n1 = inputs['txt'].length?inputs['txt'][0]:node.data.txt;\n        if(n1 == undefined)\n            n1 = \"\";\n        let n2 = inputs['txt2'].length?inputs['txt2'][0]:node.data.txt2;\n        if(n2 == undefined)\n            n2 = \"\";\n        const sum = n1 + \"\" + n2;\n\n        //@ts-ignore\n        editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(sum);\n        outputs['txt'] = sum;\n        return null;\n    }\n}","import Rete, {Node as RNode} from \"rete\";\nimport * as Sockets from \"@/editor/sockets\";\nimport {TextControl} from \"@/editor/controls/TextControl\";\nimport {Node as DNode} from \"rete/types/core/data\";\nimport {IOs} from \"rete/types/engine/component\";\nimport i18n from \"@/i18n\";\nimport {editor} from \"@/editor\";\nimport {SocketTypes} from \"@/editor/sockets\";\n\nexport class HeaderComponent extends Rete.Component {\n    constructor(){\n        super(i18n.de.header);\n    }\n\n    async builder(node: RNode) {\n        const inp1 = new Rete.Input('txt',i18n.de.txt, SocketTypes.textSocket().valSocket);\n        const out = new Rete.Output('h', i18n.de.header, SocketTypes.textSocket().valSocket);\n\n        inp1.addControl(new TextControl(editor, 'txt', false));\n\n        return node\n            .addInput(inp1)\n            .addControl(new TextControl(editor, 'preview', true))\n            .addOutput(out);\n    }\n\n    worker(node: DNode, inputs:IOs, outputs:IOs) {\n        const n1 = inputs['txt'].length?inputs['txt'][0]:node.data.txt;\n        const h = \"<h1>\"+n1+\"</h1>\";\n\n        // @ts-ignore\n        editor.nodes.find(n => n.id == node.id).controls.get('preview').setValue(h);\n        outputs['h'] = h;\n    }\n}","\n\nexport class Variable<Type>{\n    private declare initVal:Type;\n    private declare curValue:Type;\n    private declare edited:boolean;\n    private readonly onChange: Function;\n\n    constructor(onChange: Function) {\n        this.onChange = onChange;\n    }\n\n    getEdited = ()=>this.edited;\n\n    set(newVal:Type){\n        const oldVal = this.curValue;\n        this.curValue = newVal;\n        if(oldVal!= this.curValue) {\n            this.edited=true;\n            this.onChange(newVal);\n        }\n    }\n\n    setInitial(val:Type){\n        const oldVal = this.curValue;\n        this.initVal=val;\n        if(!this.edited) {\n            this.curValue = val;\n            if(oldVal!=this.curValue){\n                this.onChange(val);\n            }\n        }\n    }\n\n    reset(){\n        const oldVal = this.curValue;\n        this.curValue = this.initVal;\n        this.edited = false;\n        if (this.curValue != oldVal)\n            this.onChange(this.curValue);\n    }\n\n    get = () => this.curValue;\n    getInitial = () => this.initVal;\n\n}\n\nconst Variables: Map<string, Map<number, Variable<any>>> = new Map();\n\nexport {Variables};","import Rete, {Node as RNode, Output} from \"rete\";\nimport {NumControl} from \"@/editor/controls/NumControl\";\nimport {Variable, Variables} from \"./Variable\";\nimport {Node as DNode} from \"rete/types/core/data\";\nimport {IOs} from \"rete/types/engine/component\";\nimport i18n from \"@/i18n\";\nimport {editor} from \"@/editor\";\nimport {SocketTypes} from \"@/editor/sockets\";\n\nexport class NumVarComponent extends Rete.Component {\n\n    private declare varKey:string;\n\n    variables = () => <Map<number,Variable<number>>>Variables.get(this.varKey)!;\n\n    constructor() {\n        super(i18n.de.numVar);\n        this.varKey = this.name+Math.random();\n        Variables.set(this.varKey, new Map<number,Variable<number>>);\n    }\n\n    async builder(node: RNode) {\n        const preview = new NumControl((event: string, val: number) => {\n            editor.trigger(event);\n        }, 'curVal', true, i18n.de.curVal);\n\n        const variable = new Variable<number>((val: number) => {\n            console.log(\"Value Changed\");\n            preview.setValue(val);\n            node.update();\n            editor.trigger('process');\n        });\n\n        const inp = new Rete.Input('init', i18n.de.initVal, SocketTypes.numSocket().valSocket);\n        inp.addControl(new NumControl((event: string, val: number) => {\n            variable.setInitial(val);\n        }, 'init', false, i18n.de.val));\n\n        this.variables().set(node.id, variable);\n\n        const outRef: Output = new Rete.Output('ref', i18n.de.ref, SocketTypes.numSocket().refSocket);\n        const outVal: Output = new Rete.Output('val', i18n.de.curVal, SocketTypes.numSocket().valSocket);\n        const outType = new Rete.Output('type', i18n.de.type, SocketTypes.typeSocket);\n\n        return node\n            .addControl(preview)\n            .addInput(inp)\n            .addOutput(outType)\n            .addOutput(outRef)\n            .addOutput(outVal);\n    }\n\n    setPreview(node: RNode, value: number) {\n        const preview = <NumControl>node.controls.get('curVal');\n        if (preview)\n            preview.setValue(value);\n    }\n\n    worker(node: DNode, inputs: IOs, outputs: IOs) {\n        const initVal = inputs['init'].length ? inputs['init'][0] : node.data.init;\n\n        const variable = this.variables().get(node.id)!;\n\n        variable.setInitial(initVal);\n        //@ts-ignore\n        const nodeComp = editor!.nodes!.find(n => n.id == node.id)!;\n\n        this.setPreview(nodeComp, variable.get());\n\n        outputs[\"val\"] = variable.get();\n        outputs[\"ref\"] = variable;\n        outputs[\"type\"] = \"number\";\n    }\n}\n\n","<template>\n  <button\n    @click=\"change('')\"\n  />\n</template>\n\n<script>\nexport default {\n  props: ['emitter', 'ikey'],\n  name: \"VueButtonComponent\",\n  methods: {\n    change(e){\n      this.emitter(e);\n    }\n  },\n}\n</script>\n\n<style scoped>\nbutton{\n  width: 60px;\n  height: 40px;\n}\n</style>","import { render } from \"./VueButtonControl.vue?vue&type=template&id=0e180730&scoped=true\"\nimport script from \"./VueButtonControl.vue?vue&type=script&lang=js\"\nexport * from \"./VueButtonControl.vue?vue&type=script&lang=js\"\n\nimport \"./VueButtonControl.vue?vue&type=style&index=0&id=0e180730&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/lorenz/WebstormProjects/spreadboard/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0e180730\"]])\n\nexport default __exports__","import Rete from \"rete\";\n//@ts-ignore\nimport VueNumControl from \"@/components/VueButtonControl.vue\";\nimport VueButtonControl from \"@/components/VueButtonControl.vue\";\n\n\nexport class ButtonControl extends Rete.Control {\n    private component: any;\n    private props: Object;\n\n    constructor(emitter: Function, key:string) {\n        super(key);\n        this.component = VueButtonControl;\n        this.props = { emitter, ikey: key };\n    }\n}","class EventEmitter {\n    private listeners: Map<string, Map<number, Function>> = new Map();\n\n    constructor() {\n        this.listeners;\n    }\n\n\n    public on(events: string[], callBackId: number, callBack: Function) {\n        for (const event of events) {\n            if (!this.listeners.get(event))\n                this.listeners.set(event, new Map());\n            this.listeners.get(event)!.set(callBackId, callBack);\n        }\n    }\n\n    public removeListener(callBackId: number) {\n        for (const event of this.listeners.keys()) {\n            if (this.listeners.get(event)) {\n                this.listeners.get(event)!.delete(callBackId);\n            }\n        }\n    }\n\n    public trigger(event: string, ...args: any) {\n        if (this.listeners.get(event))\n            for (const listenerKey of this.listeners.get(event)!.keys()) {\n                new Promise(resolve => setTimeout(resolve, 0)).then(\n                    () => {\n                        if (this.listeners.has(event)) {\n                            if (this.listeners.get(event)!.has(listenerKey))\n                                this.listeners.get(event)!.get(listenerKey)!(event, args);\n                        }\n                    }\n                );\n            }\n    }\n\n    public clear() {\n        this.listeners = new Map();\n    }\n}\n\nconst taskHandler = new EventEmitter();\n\nexport default taskHandler;","import Rete, {Node as RNode} from \"rete\";\nimport * as Sockets from \"@/editor/sockets\";\nimport {ButtonControl} from \"@/editor/controls/ButtonControl\";\nimport {Node as DNode} from \"rete/types/core/data\";\nimport {IOs} from \"rete/types/engine/component\";\nimport i18n from \"@/i18n\";\nimport taskHandler from \"@/editor/controlFlow/EventEmitter\";\nimport {SocketTypes} from \"@/editor/sockets\";\n\nexport class ButtonComponent extends Rete.Component {\n\n    constructor(){\n        super(i18n.de.button);\n    }\n\n    async builder(node: RNode) {\n        node.addControl(new ButtonControl(()=>{\n            taskHandler.trigger(node.id+'-onClick');\n        }, \"start\"))\n        node.addOutput(new Rete.Output('act', '', SocketTypes.actSocket()))\n    }\n\n    worker(node: DNode, inputs:IOs, outputs:IOs): any {\n        outputs['act']= node.id+\"-onClick\";\n    }\n}","import Rete, {Connection, Input, Node as RNode, Output} from \"rete\";\nimport {NumControl} from \"@/editor/controls/NumControl\";\nimport {Variable} from \"./Variable\";\nimport {Node as DNode} from \"rete/types/core/data\";\nimport {IOs} from \"rete/types/engine/component\";\nimport i18n from \"@/i18n\";\nimport taskHandler from \"@/editor/controlFlow/EventEmitter\";\nimport {SocketTypes} from \"@/editor/sockets\";\n\nexport class SetVarComponent extends Rete.Component {\n\n    types: Map<number, string>;\n\n    constructor() {\n        super(i18n.de.setVar);\n        this.types = new Map<number, string>();\n    }\n\n    async builder(node: RNode) {\n        const inRef = new Rete.Input('ref', i18n.de.ref, SocketTypes.anyTypeSocket.refSocket);\n        const inVal = new Rete.Input('val', i18n.de.val, SocketTypes.anyTypeSocket.valSocket);\n\n\n        const inpAct = new Rete.Input('act', i18n.de.act, SocketTypes.actSocket());\n        const outAct = new Rete.Output('act', i18n.de.act, SocketTypes.actSocket());\n\n\n        return node\n            .addInput(inRef)\n            .addInput(inVal)\n            .addInput(inpAct)\n            .addOutput(outAct);\n    }\n\n    worker(node: DNode, inputs: IOs, outputs: IOs): any {\n\n        taskHandler.removeListener(node.id);\n\n        // @ts-ignore\n        const nodeComp: RNode = this.editor!.nodes!.find(n => n.id == node.id);\n\n        // @ts-ignore\n        const refConnection = nodeComp.getConnections().find((value, index) => (value.input.key == 'ref'));\n\n        // @ts-ignore\n        const valConnection = nodeComp.getConnections().find((value, index) => (value.input.key == 'val'));\n\n        if (refConnection && refConnection.output.socket &&\n            valConnection && valConnection.output.socket &&\n            valConnection.output.socket != SocketTypes.getValByRef(refConnection.output.socket)) {\n            valConnection.remove();\n        } else if (refConnection && refConnection.output.socket) {\n            nodeComp.inputs.get('val')!.socket = SocketTypes.getValByRef(refConnection.output.socket);\n        } else if (valConnection && valConnection.output.socket) {\n            nodeComp.inputs.get('ref')!.socket = SocketTypes.getRefByVal(valConnection.output.socket);\n        }\n\n        outputs['act'] = node.id+\"\";\n        taskHandler.on([inputs['act'][0]!], node.id, (event:string, ...arsg:any)=>{this.task(node,inputs)});\n    }\n\n    async task(node: DNode, inputs: IOs) {\n        const ref = inputs['ref'][0];\n        const val = inputs['val'][0];\n        if (ref && val!=null) {\n            ref.set(val);\n        }\n    }\n}\n\n","<template>\n  <div class=\"control title\">{{title?(title+':'):''}}</div>\n  <div style=\"margin: 0; display: flex; align-items: center; justify-content: center\">\n    <div class=\"bar-container\">\n      <div class=\"bar\" :style=\"'width:'+value+'%'\">\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport {onMounted} from \"vue\";\n\nexport default {\n  props: ['ikey', 'getData', 'putData', 'title'],\n  name: \"VueLoadingComponent\",\n  data() {\n    return {\n      value: 100\n    }\n  },\n  mounted() {\n    this.value = this.getData(this.ikey);\n  }\n}\n\nonMounted( () =>{\n  this.value = this.getData(this.ikey);\n})\n</script>\n\n<style scoped>\n.title{\n  color: white;\n}\n\n.bar-container{\n  width: 20vh;\n  height: 3vh;\n  border-radius: 1.5vh;\n  overflow: hidden;\n  background: white;\n}\n\n.bar{\n  display: block;\n  height: 100%;\n  background: #6f9aea;\n}\n</style>","import { render } from \"./VueLoadingControl.vue?vue&type=template&id=2a5fc972&scoped=true\"\nimport script from \"./VueLoadingControl.vue?vue&type=script&lang=js\"\nexport * from \"./VueLoadingControl.vue?vue&type=script&lang=js\"\n\nimport \"./VueLoadingControl.vue?vue&type=style&index=0&id=2a5fc972&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/lorenz/WebstormProjects/spreadboard/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2a5fc972\"]])\n\nexport default __exports__","import Rete from \"rete\";\n//@ts-ignore\nimport VueLoadingControl from \"@/components/VueLoadingControl.vue\";\nimport i18n from \"@/i18n\";\n\n\nexport class LoadingControl extends Rete.Control {\n    private component: any;\n    private props: Object;\n\n    private cur:number= 1;\n    private max:number=1;\n\n    constructor(emitter: Function, key:string, readonly:boolean = false, title:string|null = null) {\n        super(key);\n        this.component = VueLoadingControl;\n        this.props = { ikey: key, title: title};\n    }\n\n    setValue(val: number) {\n        //@ts-ignore\n        this.vueContext.value = val;\n    }\n    getValue() {\n        //@ts-ignore\n        return this.vueContext.value;\n    }\n\n}","import Rete, {Node as RNode} from \"rete\";\nimport {Node as DNode} from \"rete/types/core/data\";\nimport {IOs} from \"rete/types/engine/component\";\nimport {NumControl} from \"@/editor/controls/NumControl\";\nimport i18n from \"@/i18n\";\nimport {Variable, Variables} from \"@/editor/variables/Variable\";\nimport * as Sockets from \"@/editor/sockets\";\nimport {editor} from \"@/editor\";\nimport taskHandler from \"@/editor/controlFlow/EventEmitter\";\nimport {SocketTypes} from \"@/editor/sockets\";\nimport {LoadingControl} from \"@/editor/controls/LoadingControl\";\n\nexport class WaitComponent extends Rete.Component {\n\n\n    private declare varKey:string;\n\n    constructor() {\n        super(i18n.de.wait);\n        this.varKey = this.name+Math.random();\n        Variables.set(this.varKey, new Map<number, Variable<number>>);\n    }\n\n    variables = () => <Map<number, Variable<number>>>Variables.get(this.varKey)!;\n\n    async builder(node: RNode) {\n        const preview: LoadingControl = new LoadingControl((event: string, val: number) => {\n        }, 'preview', true);\n\n        const inControll = new NumControl((event: String, val: number) => {\n            const oldInit = variable.getInitial();\n            variable.setInitial(val);\n            preview.setValue(oldInit*preview.getValue()/val);\n        }, 'val', false);\n\n        const inTime = new Rete.Input('val', i18n.de.initTime, SocketTypes.get(\"number\")!.valSocket);\n\n        const variable = new Variable<number>((val: number) => {\n            preview.setValue(Math.round(val*100/variable.getInitial()));\n            //if(inControll.getValue()!=val)\n            //    inControll.setValue(val);\n            //editor.trigger(\"process\");\n        });\n\n        inTime.addControl(inControll);\n\n        this.variables().set(node.id, variable);\n\n        return node\n            .addInput(inTime)\n            .addControl(preview)\n            .addOutput(new Rete.Output('act', '', SocketTypes.actSocket()))\n            .addInput(new Rete.Input('act', '', SocketTypes.actSocket()));\n    }\n\n    getActOut(nodeId:number){\n        return this.varKey+':'+nodeId;\n    }\n\n    worker(node: DNode, inputs: IOs, outputs: IOs): any {\n\n        taskHandler.removeListener(node.id);\n\n        const nodeComp = editor.nodes.find((n: RNode) => n.id == node.id)!;\n        const variable = this.variables().get(node.id)!;\n\n        const initVal = inputs['val'].length ? inputs['val'][0] : node.data.val;\n        outputs['act'] = this.getActOut(node.id);\n        variable.setInitial(initVal);\n        taskHandler.on([inputs['act'][0]!], node.id, (event: string, ...args: any) => {\n            this.task(node, inputs)\n        })\n    }\n\n    private delay(ms: number) {\n        return new Promise(resolve => setTimeout(resolve, ms));\n    }\n\n    async task(node: DNode, inputs: IOs) {\n\n        //console.log(\"Try Waiting\")\n        const variable = this.variables().get(node.id)!;\n\n        if (variable.getEdited()) {\n            variable.reset();\n            return;\n        }\n\n        let lastTime: number = Date.now();\n        let newTime: number = lastTime;\n        const time = 10;\n        while (variable.get() > 0) {\n            await this.delay(time);\n            //console.log(\"Waiting\")\n            newTime = Date.now();\n            variable.set(variable.get() - (newTime - lastTime) / 1000);\n            lastTime = newTime;\n        }\n        variable.reset();\n        variable.set(variable.get());\n        taskHandler.trigger(this.getActOut(node.id));\n    }\n\n}","import Rete, {Node as RNode} from \"rete\";\nimport * as Sockets from \"@/editor/sockets\";\nimport {ButtonControl} from \"@/editor/controls/ButtonControl\";\nimport {Node as DNode} from \"rete/types/core/data\";\nimport {IOs} from \"rete/types/engine/component\";\nimport i18n from \"@/i18n\";\nimport taskHandler from \"@/editor/controlFlow/EventEmitter\";\nimport eventEmitter from \"@/editor/controlFlow/EventEmitter\";\nimport {SocketTypes} from \"@/editor/sockets\";\n\nexport class TriggerComponent extends Rete.Component {\n\n    constructor(){\n        super(i18n.de.trigger);\n    }\n\n    async builder(node: RNode) {\n        node.addInput(new Rete.Input('actRef', '', SocketTypes.eventSocket()))\n        node.addInput(new Rete.Input('act', '', SocketTypes.actSocket(), true))\n    }\n\n    worker(node: DNode, inputs:IOs, outputs:IOs): any {\n        eventEmitter.removeListener(node.id);\n        eventEmitter.on(inputs['act'], node.id, (event:string,...args:any)=>{\n            //console.log(\"Trigger\",inputs['actRef'][0] )\n            if(inputs['actRef'][0] != null)\n                eventEmitter.trigger(inputs['actRef'][0]);\n        });\n    }\n}","import Rete, {Node as RNode} from \"rete\";\nimport * as Sockets from \"@/editor/sockets\";\nimport {ButtonControl} from \"@/editor/controls/ButtonControl\";\nimport {Node as DNode} from \"rete/types/core/data\";\nimport {IOs} from \"rete/types/engine/component\";\nimport i18n from \"@/i18n\";\nimport taskHandler from \"@/editor/controlFlow/EventEmitter\";\nimport eventEmitter from \"@/editor/controlFlow/EventEmitter\";\nimport {SocketTypes} from \"@/editor/sockets\";\n\nexport class EventComponent extends Rete.Component {\n\n    private declare varKey:string;\n\n    constructor(){\n        super(i18n.de.event);\n        this.varKey = this.name+Math.random();\n    }\n\n    getActOut(nodeId:number){\n        return this.varKey+':'+nodeId;\n    }\n\n    async builder(node: RNode) {\n        node.addOutput(new Rete.Output('actRef', '', SocketTypes.eventSocket()))\n        node.addOutput(new Rete.Output('act', '', SocketTypes.actSocket()))\n    }\n\n    worker(node: DNode, inputs:IOs, outputs:IOs): any {\n        outputs[\"actRef\"] = this.getActOut(node.id)+':trigger';\n        outputs['act'] = this.getActOut(node.id)+':event';\n        eventEmitter.removeListener(node.id);\n        eventEmitter.on([outputs['actRef']], node.id, (event:string,...args:any)=>{\n            console.log(\"triggered\")\n            if(outputs['act'] != null)\n                eventEmitter.trigger(outputs['act']);\n        });\n    }\n}","<template>\n  <div class=\"control title\">{{title?(title+':'):''}}</div>\n  <div class=\"container\">\n    <div class=\"switch\" @click=\"change($event)\">\n      <div class=\"background-container\">\n        <div :class=\"'background '+(value?'checked':'')\"></div>\n      </div>\n      <div :class='\"box \"+(value?\"checked\":\"\")'></div>\n      <!--\n      <input type=\"button\"\n             :readonly=\"readonly\"\n             :checked=\"value\"\n             @input=\"change($event)\"\n             @dblclick.stop=\"\"\n             @pointerdown.stop=\"\"\n             @pointermove.stop=\"\"/>\n             -->\n    </div>\n  </div>\n</template>\n\n<script>\nimport {onMounted} from \"vue\";\n\nexport default {\n  props: ['readonly', 'emitter', 'ikey', 'getData', 'putData', 'title'],\n  name: \"VueBoolComponent\",\n  data() {\n    return {\n      value: false,\n    }\n  },\n  methods: {\n    change(e){\n      console.log(e.target.checked)\n      this.value = !this.value;\n      this.update();\n    },\n    update() {\n      //console.log(\"Bool-Control-Update:\",this.value);\n      if (this.ikey)\n        this.putData(this.ikey, this.value)\n      this.emitter('process',this.value);\n    }\n  },\n  mounted() {\n    this.value = this.getData(this.ikey);\n  }\n}\n\nonMounted( () =>{\n  this.value = this.getData(this.ikey);\n})\n</script>\n\n<style scoped>\n\n.container{\n  width: 100px;\n  justify-content: center;\n  display: flex;\n}\n\n.switch {\n  border: 1px solid #8cb6ff;\n  width: 3vw;\n  height: 1vw;\n  display: flex;\n  background: white;\n  border-radius: .5vw;\n  align-items: center;\n}\n\n.box{\n  position: absolute;\n  z-index: 5;\n  border-radius: 1vw;\n  background: #5188ea;\n  border: 2px solid #8cb6ff;\n  height: 1.7vw;\n  width: 1.7vw;\n  translate: -0.5vw;\n  transition: translate 0.1s linear;\n}\n\n.box.checked{\n  translate: 2vw;\n  transition: translate 0.1s linear;\n}\n\n.background-container{\n  position: absolute;\n  border-bottom-left-radius: 4vh;\n  border-top-left-radius: 4vh;\n  height: 1vw;\n  overflow: hidden;\n}\n\n.background{\n  background: #6f9aea;\n  width: 0;\n  height: 2vw;\n  transition: width 0.1s linear;\n}\n.background.checked{\n  width: 3vw;\n  transition: width 0.1s linear;\n}\n\n\n\n.title{\n  color: white;\n}\n</style>","import { render } from \"./VueBoolControl.vue?vue&type=template&id=4dde7560&scoped=true\"\nimport script from \"./VueBoolControl.vue?vue&type=script&lang=js\"\nexport * from \"./VueBoolControl.vue?vue&type=script&lang=js\"\n\nimport \"./VueBoolControl.vue?vue&type=style&index=0&id=4dde7560&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/lorenz/WebstormProjects/spreadboard/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4dde7560\"]])\n\nexport default __exports__","import Rete from \"rete\";\n//@ts-ignore\nimport i18n from \"@/i18n\";\nimport VueBoolControl from \"@/components/VueBoolControl.vue\";\n\n\nexport class BoolControl extends Rete.Control {\n    private component: any;\n    private props: Object;\n\n    constructor(emitter: Function, key:string, readonly:boolean = false, title:string|null = null) {\n        super(key);\n        this.component = VueBoolControl;\n        this.props = { emitter, ikey: key, readonly, title: title };\n    }\n\n    setValue(val: boolean) {\n        //@ts-ignore\n        this.vueContext.value = val;\n    }\n    getValue() {\n        //@ts-ignore\n        return this.vueContext.value;\n    }\n}","import Rete, {Node as RNode} from \"rete\";\nimport {Node as DNode} from \"rete/types/core/data\";\nimport {IOs} from \"rete/types/engine/component\";\n\nimport i18n from \"@/i18n\";\nimport {editor} from \"@/editor\";\nimport {SocketTypes} from \"@/editor/sockets\";\nimport {BoolControl} from \"../controls/BoolControl\";\n\nexport class BoolComponent extends Rete.Component {\n\n    constructor() {\n        super(i18n.de.bool);\n    }\n\n    async builder(node: RNode) {\n        const out1 = new Rete.Output('bool', i18n.de.bool, SocketTypes.boolSocket().valSocket);\n\n        return node\n            .addControl(new BoolControl((event: string, val: boolean) => editor.trigger(event), 'bool', false))\n            .addOutput(out1);\n    }\n\n    worker(node: DNode, inputs: IOs, outputs: IOs) {\n        //console.log(\"Output:\",node.data.bool);\n        outputs['bool'] = node.data.bool;\n    }\n}\n\n","import Rete, {Connection, Input, Node as RNode, Output, Socket} from \"rete\";\nimport {NumControl} from \"@/editor/controls/NumControl\";\nimport {Node as DNode} from \"rete/types/core/data\";\nimport {IOs} from \"rete/types/engine/component\";\nimport i18n from \"@/i18n\";\nimport taskHandler from \"@/editor/controlFlow/EventEmitter\";\nimport {SocketTypes} from \"@/editor/sockets\";\nimport {parseForESLint} from \"@typescript-eslint/parser\";\n\nexport class ConditionComponent extends Rete.Component {\n\n    constructor() {\n        super(i18n.de.condition);\n    }\n\n    async builder(node: RNode) {\n        const inCondition = new Rete.Input('bool', i18n.de.bool, SocketTypes.boolSocket().valSocket);\n        const inIf = new Rete.Input('if', i18n.de.if, SocketTypes.anySocket);\n        const inElse = new Rete.Input('else', i18n.de.else, SocketTypes.anySocket);\n\n\n        const outRes = new Rete.Output('res', i18n.de.res, SocketTypes.anySocket);\n\n\n        return node\n            .addInput(inCondition)\n            .addInput(inIf)\n            .addInput(inElse)\n            .addOutput(outRes);\n    }\n\n    reconnectOutput(output: Output | undefined, connection: Connection|undefined, newSocketType: Socket){\n        if(output){\n            if(!newSocketType.compatibleWith(output.socket))\n                connection?.remove();\n\n            output.socket = newSocketType;\n        }\n    }\n\n\n    reconnectInput(input: Input | undefined, connection: Connection|undefined, newSocketType: Socket){\n        if(input){\n            if(!newSocketType.compatibleWith(input.socket))\n                connection?.remove();\n\n            input.socket = newSocketType;\n        }\n    }\n\n    worker(node: DNode, inputs: IOs, outputs: IOs): any {\n\n        taskHandler.removeListener(node.id);\n\n        // @ts-ignore\n        const nodeComp: RNode = this.editor!.nodes!.find(n => n.id == node.id);\n\n        // @ts-ignore\n        const ifConn = nodeComp.getConnections().find((value, index) => (value.input.key == 'if'));\n\n        // @ts-ignore\n        const elseConn = nodeComp.getConnections().find((value, index) => (value.input.key == 'else'));\n\n        // @ts-ignore\n        const resConn = nodeComp.getConnections().find((value, index) => (value.input.key == 'res'));\n\n\n        let socketType = SocketTypes.anySocket;\n\n\n        if (ifConn && ifConn.output.socket) {\n            socketType = ifConn.output.socket;\n        } else if (elseConn && elseConn.output.socket) {\n            socketType = elseConn.output.socket;\n        }else if(resConn && resConn.output.socket){\n            socketType = resConn.output.socket;\n        }\n\n\n        this.reconnectInput(nodeComp.inputs.get('if'), ifConn,socketType);\n        this.reconnectInput(nodeComp.inputs.get('else'), elseConn,socketType);\n        this.reconnectOutput(nodeComp.outputs.get('res'), resConn,socketType);\n\n\n        console.log(inputs['bool'][0]);\n\n        outputs['res'] = (inputs['bool'][0])?(inputs['if'][0]):(inputs['else'][0]);\n    }\n}\n\n","import {NodeEditor} from \"rete\";\nimport {EventsTypes as EventsTypesCore} from \"rete/types/core/events\";\nimport {EventsTypes} from \"rete/types/events\";\n\nexport class MyEditor extends NodeEditor{\n    override trigger(name: any, params?: any): any {\n        //console.log('Triggered: ', name, params);\n        return super.trigger(name, params);\n    }\n}","import Rete, {Node as RNode, NodeEditor} from \"rete\";\n// @ts-ignore\nimport VueRenderPlugin from \"rete-vue-render-plugin\";\nimport ConnectionPlugin from \"rete-connection-plugin\";\nimport ContextMenuPlugin from \"rete-context-menu-plugin\";\n//@ts-ignore\nimport AreaPlugin from \"rete-area-plugin\";\nimport DockPlugin from \"rete-dock-plugin\";\nimport 'regenerator-runtime/runtime'\nimport {OutputComponent} from \"@/editor/misc/OutputComponent\";\nimport {AddComponent} from \"@/editor/operations/AddComponent\";\nimport {NumComponent} from \"@/editor/values/NumComponent\";\nimport {TextComponent} from \"@/editor/values/TextComponent\";\nimport {CombineComponent} from \"@/editor/operations/CombineComponent\";\nimport {HeaderComponent} from \"@/editor/misc/HeaderComponent\";\nimport {NumVarComponent} from \"@/editor/variables/NumVarComponent\";\nimport {ButtonComponent} from \"@/editor/controlFlow/ButtonComponent\";\nimport {SetVarComponent} from \"@/editor/variables/SetVarComponent\";\nimport {NumControl} from \"@/editor/controls/NumControl\";\nimport {WaitComponent} from \"@/editor/controlFlow/WaitComponent\";\nimport {TriggerComponent} from \"@/editor/controlFlow/TriggerComponent\";\nimport {EventComponent} from \"@/editor/controlFlow/EventComponent\";\nimport {BoolComponent} from \"@/editor/values/BoolComponent\";\nimport {ConditionComponent} from \"@/editor/controlFlow/ConditionComponent\";\nimport {IOs} from \"rete/types/engine/component\";\nimport {Data, Node as DNode, Nodes} from \"rete/types/core/data\";\n\nconst save: any = {\n    \"id\": \"demo@0.1.0\", \"nodes\": {\n        \"14\": {\n            \"id\": 14,\n            \"data\": {},\n            \"inputs\": {\"in\": {\"connections\": [{\"node\": 15, \"output\": \"val\", \"data\": {}}]}},\n            \"outputs\": {},\n            \"position\": [475.704839080989, -67.21715615165667],\n            \"name\": \"Anzeige\"\n        },\n        \"15\": {\n            \"id\": 15,\n            \"data\": {\"init\": 1},\n            \"inputs\": {\"init\": {\"connections\": []}},\n            \"outputs\": {\n                \"type\": {\"connections\": []},\n                \"ref\": {\"connections\": [{\"node\": 17, \"input\": \"ref\", \"data\": {}}]},\n                \"val\": {\n                    \"connections\": [{\"node\": 19, \"input\": \"num\", \"data\": {}}, {\n                        \"node\": 20,\n                        \"input\": \"num\",\n                        \"data\": {}\n                    }, {\"node\": 14, \"input\": \"in\", \"data\": {}}]\n                }\n            },\n            \"position\": [-296.13244996723756, -192.81906941216266],\n            \"name\": \"Variable:\\nZahl\"\n        },\n        \"16\": {\n            \"id\": 16,\n            \"data\": {\"bool\": false},\n            \"inputs\": {},\n            \"outputs\": {\"bool\": {\"connections\": [{\"node\": 18, \"input\": \"bool\", \"data\": {}}]}},\n            \"position\": [87.00270014444396, 49.81343543681821],\n            \"name\": \"Wahrheitswert\"\n        },\n        \"17\": {\n            \"id\": 17,\n            \"data\": {},\n            \"inputs\": {\n                \"ref\": {\"connections\": [{\"node\": 15, \"output\": \"ref\", \"data\": {}}]},\n                \"val\": {\"connections\": [{\"node\": 18, \"output\": \"res\", \"data\": {}}]},\n                \"act\": {\"connections\": [{\"node\": 25, \"output\": \"res\", \"data\": {}}]}\n            },\n            \"outputs\": {\"act\": {\"connections\": []}},\n            \"position\": [801.587425854445, -191.34663947969932],\n            \"name\": \"Setze Variable\"\n        },\n        \"18\": {\n            \"id\": 18,\n            \"data\": {},\n            \"inputs\": {\n                \"bool\": {\"connections\": [{\"node\": 16, \"output\": \"bool\", \"data\": {}}]},\n                \"if\": {\"connections\": [{\"node\": 19, \"output\": \"num\", \"data\": {}}]},\n                \"else\": {\"connections\": [{\"node\": 20, \"output\": \"num\", \"data\": {}}]}\n            },\n            \"outputs\": {\"res\": {\"connections\": [{\"node\": 17, \"input\": \"val\", \"data\": {}}]}},\n            \"position\": [463.3349592855515, 155.716431618088],\n            \"name\": \"Bedingung\"\n        },\n        \"19\": {\n            \"id\": 19,\n            \"data\": {\"num2\": 1},\n            \"inputs\": {\n                \"num\": {\"connections\": [{\"node\": 15, \"output\": \"val\", \"data\": {}}]},\n                \"num2\": {\"connections\": []}\n            },\n            \"outputs\": {\"num\": {\"connections\": [{\"node\": 18, \"input\": \"if\", \"data\": {}}]}},\n            \"position\": [93.07408603372114, 222.43367702103302],\n            \"name\": \"Addiere\"\n        },\n        \"20\": {\n            \"id\": 20,\n            \"data\": {\"num2\": -1},\n            \"inputs\": {\n                \"num\": {\"connections\": [{\"node\": 15, \"output\": \"val\", \"data\": {}}]},\n                \"num2\": {\"connections\": []}\n            },\n            \"outputs\": {\"num\": {\"connections\": [{\"node\": 18, \"input\": \"else\", \"data\": {}}]}},\n            \"position\": [86.66979646391361, 472.41367906726475],\n            \"name\": \"Addiere\"\n        },\n        \"21\": {\n            \"id\": 21,\n            \"data\": {},\n            \"inputs\": {},\n            \"outputs\": {\n                \"actRef\": {\"connections\": [{\"node\": 23, \"input\": \"actRef\", \"data\": {}}]},\n                \"act\": {\n                    \"connections\": [{\"node\": 25, \"input\": \"if\", \"data\": {}}, {\n                        \"node\": 22,\n                        \"input\": \"act\",\n                        \"data\": {}\n                    }]\n                }\n            },\n            \"position\": [202.98477439531933, -837.9360977894372],\n            \"name\": \"Ereigniss\"\n        },\n        \"22\": {\n            \"id\": 22,\n            \"data\": {\"val\": 3},\n            \"inputs\": {\"val\": {\"connections\": []}, \"act\": {\"connections\": [{\"node\": 21, \"output\": \"act\", \"data\": {}}]}},\n            \"outputs\": {\"act\": {\"connections\": [{\"node\": 23, \"input\": \"act\", \"data\": {}}]}},\n            \"position\": [761.4111930880648, -727.0837792118829],\n            \"name\": \"Warten\"\n        },\n        \"23\": {\n            \"id\": 23,\n            \"data\": {},\n            \"inputs\": {\n                \"actRef\": {\"connections\": [{\"node\": 21, \"output\": \"actRef\", \"data\": {}}]},\n                \"act\": {\n                    \"connections\": [{\"node\": 22, \"output\": \"act\", \"data\": {}}, {\n                        \"node\": 24,\n                        \"output\": \"act\",\n                        \"data\": {}\n                    }]\n                }\n            },\n            \"outputs\": {},\n            \"position\": [1341.105416979991, -841.0902379918624],\n            \"name\": \"Auslöser\"\n        },\n        \"24\": {\n            \"id\": 24,\n            \"data\": {},\n            \"inputs\": {},\n            \"outputs\": {\"act\": {\"connections\": [{\"node\": 23, \"input\": \"act\", \"data\": {}}]}},\n            \"position\": [1072.8360171208794, -654.9653428776915],\n            \"name\": \"Drücker\"\n        },\n        \"25\": {\n            \"id\": 25,\n            \"data\": {},\n            \"inputs\": {\n                \"bool\": {\"connections\": [{\"node\": 26, \"output\": \"bool\", \"data\": {}}]},\n                \"if\": {\"connections\": [{\"node\": 21, \"output\": \"act\", \"data\": {}}]},\n                \"else\": {\"connections\": []}\n            },\n            \"outputs\": {\"res\": {\"connections\": [{\"node\": 17, \"input\": \"act\", \"data\": {}}]}},\n            \"position\": [527.3702224344131, -502.231731391048],\n            \"name\": \"Bedingung\"\n        },\n        \"26\": {\n            \"id\": 26,\n            \"data\": {\"bool\": false},\n            \"inputs\": {},\n            \"outputs\": {\"bool\": {\"connections\": [{\"node\": 25, \"input\": \"bool\", \"data\": {}}]}},\n            \"position\": [151.64642561674276, -520.2168585287731],\n            \"name\": \"Wahrheitswert\"\n        }\n    }\n};\n\n\n\nimport {SocketTypes} from \"@/editor/sockets\";\nimport {MyEditor} from \"@/editor/myEditor\";\nimport eventEmitter from \"@/editor/controlFlow/EventEmitter\";\nimport {Variable, Variables} from \"@/editor/variables/Variable\";\n\nlet htmlContainer: any = null;\n\nlet editor: any = null;\n\nexport function download() {\n    const data = JSON.stringify(editor)\n    const blob = new Blob([data], {type: 'text/json'})\n    const e = document.createEvent('MouseEvents'),\n        a = document.createElement('a');\n    a.download = \"save.json\";\n    a.href = window.URL.createObjectURL(blob);\n    a.dataset.downloadurl = ['text/json', a.download, a.href].join(':');\n    e.initEvent('click', true, false);\n    a.dispatchEvent(e);\n}\n\nexport function saveBoard(){\n    navigator.clipboard.writeText(JSON.stringify(editor.toJSON()));\n}\n\nexport function importBoard(){\n    let json: any = prompt(\"Hier kannst du die Text-Form eines Programmes eingeben, dass du zuvor gespeichert hattest\")\n    json = JSON.parse(json)\n    if(json)\n        load(json);\n}\n\nexport async function load(save:any){\n    clearBoard();\n\n    await editor.fromJSON(save);\n    for (const node of Object.values(<Nodes>save.nodes)) {\n        if (editor.nodes.find((n: RNode) => n.id == node.id)) {\n            const nodeComp = editor.nodes.find((n: RNode) => n.id == node.id);\n            if (nodeComp.worker) {\n                nodeComp.worker(node, <IOs>[], <IOs>[]);\n            }\n        }\n    }\n}\n\nexport function clearBoard(){\n    editor.clear();\n    eventEmitter.clear();\n    Variables.clear();\n    init(htmlContainer);\n}\n\nexport function loadExample(){\n    load(save);\n}\n\nasync function start(container: HTMLElement){\n    htmlContainer = container;\n    htmlContainer.innerHTML = \"\";\n    init(container);\n}\n\nasync function init(container: HTMLElement) {\n    editor = new MyEditor(\"demo@0.1.0\", container);\n    const engine = new Rete.Engine('demo@0.1.0');\n    editor.use(ConnectionPlugin);\n    editor.use(VueRenderPlugin);\n    editor.use(AreaPlugin, {\n        background: false,\n        snap: false,\n        scaleExtent: {min: 0.25, max: 1},\n        translateExtent: {width: 5000, height: 4000}\n    });\n\n    // register before dock plugin to prevent showing in dock\n\n    const outputComp = new OutputComponent(\".output-view\");\n    editor.register(outputComp);\n    engine.register(outputComp);\n\n\n    editor.use(ContextMenuPlugin);\n\n    editor.use(DockPlugin, {\n        //@ts-ignore\n        container: document.querySelector(\".dock\"),\n        plugins: [VueRenderPlugin] // render plugins\n    });\n\n    const compList =\n        [\n            new AddComponent(),\n            new NumComponent(),\n            new TextComponent(),\n            new CombineComponent(),\n            new HeaderComponent(),\n            new NumVarComponent(),\n            new ButtonComponent(),\n            new SetVarComponent(),\n            new WaitComponent(),\n            new TriggerComponent(),\n            new EventComponent(),\n            new BoolComponent(),\n            new ConditionComponent()\n        ];\n\n    for (let i = 0; i < compList.length; i++) {\n        editor.register(compList[i]);\n        engine.register(compList[i]);\n    }\n\n    // add starting node\n    await editor.fromJSON(\n        {\n            id:\"demo@0.1.0\",\n            nodes: {}\n        }\n    );\n\n    editor.on(\n        [\"connectioncreate\", 'connectionremove', \"nodecreate\", 'noderemove'],\n        (data: any) => {\n            editor.trigger(\"process\");\n        }\n    );\n\n    editor.on('process', async () => {\n        //console.log('json', editor.toJSON());\n        await engine.abort();\n        await engine.process(editor.toJSON());\n    });\n\n\n    editor.view.resize();\n    editor.trigger('process');\n}\n\n\nexport {start, editor};\n","import { render } from \"./ReteEditor.vue?vue&type=template&id=4fc24770\"\nimport script from \"./ReteEditor.vue?vue&type=script&lang=js\"\nexport * from \"./ReteEditor.vue?vue&type=script&lang=js\"\n\nimport \"./ReteEditor.vue?vue&type=style&index=0&id=4fc24770&lang=css\"\n\nimport exportComponent from \"/home/lorenz/WebstormProjects/spreadboard/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"dock\">\n    <h3>Options</h3>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ReteDock\",\n  setup() {},\n};\n</script>\n\n<style lang=\"css\">\n.dock {\n  overflow-x: scroll;\n  flex: 1;\n  width: 100%;\n  min-height: 300px;\n  order: 1;\n  border-top: 1px solid #6f9aea;\n  display: flex;\n  align-items: center;\n  flex-flow: row nowrap;\n  padding-top: 10px;\n  padding-bottom: 10px;\n}\n\n.dock >.dock-item > .node{\n  min-height: 10vh;\n  width: 200px;\n  min-width: 20px;\n  margin-right: 15px;\n}\n</style>","import { render } from \"./ReteDock.vue?vue&type=template&id=1748940e\"\nimport script from \"./ReteDock.vue?vue&type=script&lang=js\"\nexport * from \"./ReteDock.vue?vue&type=script&lang=js\"\n\nimport \"./ReteDock.vue?vue&type=style&index=0&id=1748940e&lang=css\"\n\nimport exportComponent from \"/home/lorenz/WebstormProjects/spreadboard/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=715e42b0\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=715e42b0&lang=css\"\n\nimport exportComponent from \"/home/lorenz/WebstormProjects/spreadboard/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import 'regenerator-runtime/runtime'\nimport { createApp } from 'vue'\nimport App from './App.vue'\n\n\ncreateApp(App).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkspreadboard\"] = self[\"webpackChunkspreadboard\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(2834); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","style","_ctx","_createVNode","_component_ReteEditor","_hoisted_2","_hoisted_3","onClick","$event","_hoisted_4","_component_ReteDock","ref","de","val","num","addIn","act","txt","add","res","curVal","initVal","setVar","button","header","combine","numVar","type","view","wait","curTime","initTime","trigger","event","bool","condition","if","else","i18n","SocketType","constructor","name","this","refSocket","RSocket","valSocket","SocketTypeMap","get","types","Map","anySocket","combineWith","anyTypeSocket","typeName","keys","socket","set","getRefByVal","replace","getValByRef","numSocket","textSocket","OutputComponent","Rete","containerQuery","super","async","node","addInput","SocketTypes","worker","inputs","outputs","container","document","querySelector","innerHTML","undefined","$props","readonly","value","$data","onInput","$options","onDblclick","onPointerdown","onPointermove","props","data","methods","change","e","target","update","ikey","putData","emitter","mounted","getData","onMounted","__exports__","NumControl","key","title","component","VueNumControl","setValue","vueContext","getValue","AddComponent","inp1","inp2","out","addControl","editor","addOutput","args","n1","length","n2","num2","sum","preview","n","id","controls","NumComponent","out1","TextControl","VueTextControl","TextComponent","CombineComponent","txt2","nodes","find","HeaderComponent","h","Variable","onChange","edited","curValue","newVal","oldVal","setInitial","reset","Variables","NumVarComponent","varKey","Math","random","variable","console","log","inp","variables","outRef","outVal","outType","setPreview","init","nodeComp","ButtonControl","VueButtonControl","EventEmitter","listeners","on","events","callBackId","callBack","removeListener","delete","listenerKey","Promise","resolve","setTimeout","then","has","clear","taskHandler","ButtonComponent","SetVarComponent","inRef","inVal","inpAct","outAct","refConnection","getConnections","index","input","valConnection","output","remove","arsg","task","LoadingControl","VueLoadingControl","WaitComponent","inControll","oldInit","getInitial","inTime","round","getActOut","nodeId","delay","ms","getEdited","lastTime","Date","now","newTime","time","TriggerComponent","eventEmitter","EventComponent","checked","BoolControl","VueBoolControl","BoolComponent","ConditionComponent","inCondition","inIf","inElse","outRes","reconnectOutput","connection","newSocketType","compatibleWith","reconnectInput","ifConn","elseConn","resConn","socketType","MyEditor","NodeEditor","params","save","htmlContainer","saveBoard","navigator","clipboard","writeText","JSON","stringify","toJSON","importBoard","json","prompt","parse","load","clearBoard","fromJSON","Object","values","loadExample","start","engine","use","ConnectionPlugin","VueRenderPlugin","AreaPlugin","background","snap","scaleExtent","min","max","translateExtent","width","height","outputComp","register","ContextMenuPlugin","DockPlugin","plugins","compList","i","abort","process","resize","setup","reteElm","App","Options","mixins","VueScreenSizeMixin","components","ReteEditor","ReteDock","triggDownload","popup","classList","triggLoadExample","triggClear","triggImport","Vue","render","createApp","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","splice","r","getter","__esModule","d","a","definition","o","defineProperty","enumerable","g","globalThis","Function","window","obj","prop","prototype","hasOwnProperty","call","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","push","__webpack_exports__"],"sourceRoot":""}