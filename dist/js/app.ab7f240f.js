(function(){"use strict";var t={9939:function(t,e,n){n(6133);var o=n(9242),i=n(3396);const a={class:"spreadBoard"},s={class:"editor"},r={class:"output-view-container"},c=(0,i._)("div",{class:"output-view"}," Test ",-1);function u(t,e){const n=(0,i.up)("ReteEditor"),o=(0,i.up)("ReteDock");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("div",s,[(0,i.Wm)(n),(0,i.Wm)(o)]),(0,i._)("div",r,[c,(0,i._)("button",{onClick:e[0]||(e[0]=e=>t.triggDownload())},"Download")])])}var d=n(6520);const l={class:"rete",ref:"reteElm"};function p(t,e){return(0,i.wg)(),(0,i.iD)("div",l,null,512)}var v=n(4870),h=n(4306),k=n(4541),m=n(5443),g=n(869),w=n(7212),f=n(1329),y=n(2482);const b={val:"Wert",ref:"Variable",num:"Zahl",addIn:"Summand",act:"Aktion",txt:"Text",add:"Addiere",res:"Ergebnis",curVal:"Aktueller Wert",initVal:"Startwert",setVar:"Setze Variable",button:"Drücker",header:"Überschrift",combine:"Zusammenfügen",numVar:"Variable:\nZahl",type:"Datentyp",view:"Anzeige",wait:"Warten",curTime:"Verbleibende Zeit",initTime:"Start-Zeit",trigger:"Auslöser",event:"Ereigniss",bool:"Wahrheitswert",condition:"Bedingung",if:"Falls",else:"Sonst"},S={de:b};var Z=S;class x{constructor(t){(0,y.Z)(this,"name",void 0),(0,y.Z)(this,"refSocket",void 0),(0,y.Z)(this,"valSocket",void 0),this.name=t,this.refSocket=new h.sk(t+" ref"),this.valSocket=new h.sk(t+" val")}}class C{constructor(){(0,y.Z)(this,"anyTypeSocket",new x("any")),(0,y.Z)(this,"anySocket",new h.sk("*")),(0,y.Z)(this,"typeSocket",new h.sk("type")),(0,y.Z)(this,"types",void 0),(0,y.Z)(this,"actSocket",(()=>this.get("act").valSocket)),(0,y.Z)(this,"eventSocket",(()=>this.get("act").refSocket)),(0,y.Z)(this,"numSocket",(()=>this.get("number"))),(0,y.Z)(this,"textSocket",(()=>this.get("text"))),(0,y.Z)(this,"boolSocket",(()=>this.get("boolean"))),this.types=new Map,this.anySocket.combineWith(this.anyTypeSocket.refSocket),this.anySocket.combineWith(this.anyTypeSocket.valSocket),this.anyTypeSocket.valSocket.combineWith(this.anySocket),this.anyTypeSocket.refSocket.combineWith(this.anySocket)}add(t){if(!(t in this.types.keys())){const e=new x(t);this.types.set(t,e),e.refSocket.combineWith(this.anyTypeSocket.refSocket),e.valSocket.combineWith(this.anyTypeSocket.valSocket),e.valSocket.combineWith(this.anySocket),e.refSocket.combineWith(this.anySocket),this.anyTypeSocket.refSocket.combineWith(e.refSocket),this.anyTypeSocket.valSocket.combineWith(e.valSocket),this.anySocket.combineWith(e.refSocket),this.anySocket.combineWith(e.valSocket)}}getRefByVal(t){return"type"==t.name||"*"==t.name?t:this.get(t.name.replace(" val","")).refSocket}getValByRef(t){return"type"==t.name||"*"==t.name?t:this.get(t.name.replace(" ref","")).valSocket}get(t){return this.types.get(t)}}const P=new C;P.add("text"),P.add("number"),P.add("boolean"),P.add("act"),P.numSocket().valSocket.combineWith(P.textSocket().valSocket);class I extends h.ZP.Component{constructor(t){super(Z.de.view),(0,y.Z)(this,"containerQuery",void 0),this.containerQuery=t}async builder(t){return t.addInput(new h.ZP.Input("in","",P.textSocket().valSocket)),t}worker(t,e,n){if(this.containerQuery){const t=document.querySelector(this.containerQuery);t&&(t.innerHTML=void 0!=e["in"][0]&&null!=e["in"][0]?e["in"][0]:"")}}}var V=n(7139);const O={class:"control title"},D=["readonly","value"];function _(t,e,n,a,s,r){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",O,(0,V.zw)(n.title?n.title+":":""),1),(0,i._)("input",{type:"number",readonly:n.readonly,value:s.value,onInput:e[0]||(e[0]=t=>r.change(t)),onDblclick:e[1]||(e[1]=(0,o.iM)((()=>{}),["stop"])),onPointerdown:e[2]||(e[2]=(0,o.iM)((()=>{}),["stop"])),onPointermove:e[3]||(e[3]=(0,o.iM)((()=>{}),["stop"]))},null,40,D)],64)}var W={props:["readonly","emitter","ikey","getData","putData","title"],name:"VueNumComponent",data(){return{value:0}},methods:{change(t){this.value=+t.target.value,this.update()},update(){this.ikey&&this.putData(this.ikey,this.value),this.emitter("process",this.value)}},mounted(){this.value=this.getData(this.ikey)}};(0,i.bv)((()=>{(void 0).value=(void 0).getData((void 0).ikey)}));var R=n(89);const T=(0,R.Z)(W,[["render",_],["__scopeId","data-v-62a52214"]]);var E=T;class M extends h.ZP.Control{constructor(t,e,n=!1,o=null){super(e),(0,y.Z)(this,"component",void 0),(0,y.Z)(this,"props",void 0),this.component=E,this.props={emitter:t,ikey:e,readonly:n,title:o}}setValue(t){this.vueContext.value=t}getValue(){return this.vueContext.value}}class j extends h.ZP.Component{constructor(){super(Z.de.add)}async builder(t){const e=new h.ZP.Input("num",Z.de.addIn,P.numSocket().valSocket),n=new h.ZP.Input("num2",Z.de.addIn,P.numSocket().valSocket),o=new h.ZP.Output("num",Z.de.res,P.numSocket().valSocket);e.addControl(new M(((t,e)=>Dt.trigger(t)),"num",!1,Z.de.addIn)),n.addControl(new M(((t,e)=>Dt.trigger(t)),"num2",!1,Z.de.addIn)),t.addInput(e).addInput(n).addControl(new M(((t,e)=>{}),"preview",!0,Z.de.res)).addOutput(o)}worker(t,e,n,...o){const i=e["num"].length?e["num"][0]:t.data.num,a=e["num2"].length?e["num2"][0]:t.data.num2,s=i+a,r=Dt.nodes.find((e=>e.id==t.id)).controls.get("preview");r.setValue(s),n["num"]=s}}class B extends h.ZP.Component{constructor(){super(Z.de.num)}async builder(t){const e=new h.ZP.Output("num",Z.de.num,P.numSocket().valSocket);return t.addControl(new M(((t,e)=>Dt.trigger(t)),"num",!1)).addOutput(e)}worker(t,e,n){n["num"]=t.data.num}}const L={class:"title control"},z=["readonly","value"];function A(t,e,n,a,s,r){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",L,(0,V.zw)(n.title?n.title+":":""),1),(0,i._)("input",{type:"text",readonly:n.readonly,value:s.value,onInput:e[0]||(e[0]=t=>r.change(t)),onDblclick:e[1]||(e[1]=(0,o.iM)((()=>{}),["stop"])),onPointerdown:e[2]||(e[2]=(0,o.iM)((()=>{}),["stop"])),onPointermove:e[3]||(e[3]=(0,o.iM)((()=>{}),["stop"]))},null,40,z)],64)}var H={props:["readonly","emitter","ikey","getData","putData","title"],name:"VueTextComponent",data(){return{value:""}},methods:{change(t){this.value=t.target.value,this.update()},update(){this.ikey&&this.putData(this.ikey,this.value),this.emitter.trigger("process")}},mounted(){this.value=this.getData(this.ikey)}};(0,i.bv)((()=>{(void 0).value=(void 0).getData((void 0).ikey),(void 0).value||((void 0).value="")}));const N=(0,R.Z)(H,[["render",A],["__scopeId","data-v-26f6d556"]]);var J=N;class Q extends h.ZP.Control{constructor(t,e,n=!1,o=null){super(e),(0,y.Z)(this,"component",void 0),(0,y.Z)(this,"props",void 0),this.component=J,this.props={emitter:t,ikey:e,readonly:n,title:o}}setValue(t){this.vueContext.value=t}}class Y extends h.ZP.Component{constructor(){super(Z.de.txt)}async builder(t){const e=new h.ZP.Output("txt",Z.de.txt,P.textSocket().valSocket);return t.addControl(new Q(Dt,"txt",!1)).addOutput(e)}worker(t,e,n){n["txt"]=t.data.txt}}class q extends h.ZP.Component{constructor(){super(Z.de.combine)}async builder(t){const e=new h.ZP.Input("txt",Z.de.txt,P.numSocket().valSocket),n=new h.ZP.Input("txt2",Z.de.txt,P.numSocket().valSocket),o=new h.ZP.Output("txt",Z.de.res,P.numSocket().valSocket);e.addControl(new Q(Dt,"txt",!1)),n.addControl(new Q(Dt,"txt2",!1)),t.addInput(e).addInput(n).addControl(new Q(Dt,"preview",!0)).addOutput(o)}worker(t,e,n,...o){let i=e["txt"].length?e["txt"][0]:t.data.txt;void 0==i&&(i="");let a=e["txt2"].length?e["txt2"][0]:t.data.txt2;void 0==a&&(a="");const s=i+""+a;return Dt.nodes.find((e=>e.id==t.id)).controls.get("preview").setValue(s),n["txt"]=s,null}}class F extends h.ZP.Component{constructor(){super(Z.de.header)}async builder(t){const e=new h.ZP.Input("txt",Z.de.txt,P.textSocket().valSocket),n=new h.ZP.Output("h",Z.de.header,P.textSocket().valSocket);return e.addControl(new Q(Dt,"txt",!1)),t.addInput(e).addControl(new Q(Dt,"preview",!0)).addOutput(n)}worker(t,e,n){const o=e["txt"].length?e["txt"][0]:t.data.txt,i="<h1>"+o+"</h1>";Dt.nodes.find((e=>e.id==t.id)).controls.get("preview").setValue(i),n["h"]=i}}class U{constructor(t){(0,y.Z)(this,"onChange",void 0),(0,y.Z)(this,"getEdited",(()=>this.edited)),(0,y.Z)(this,"get",(()=>this.curValue)),(0,y.Z)(this,"getInitial",(()=>this.initVal)),this.onChange=t}set(t){const e=this.curValue;this.curValue=t,e!=this.curValue&&(this.edited=!0,this.onChange(t))}setInitial(t){const e=this.curValue;this.initVal=t,this.edited||(this.curValue=t,e!=this.curValue&&this.onChange(t))}reset(){const t=this.curValue;this.curValue=this.initVal,this.edited=!1,this.curValue!=t&&this.onChange(this.curValue)}}class G extends h.ZP.Component{constructor(){super(Z.de.numVar),(0,y.Z)(this,"variables",void 0),this.variables=new Map}async builder(t){const e=new M(((t,e)=>{Dt.trigger(t)}),"curVal",!0,Z.de.curVal),n=new U((n=>{console.log("Value Changed"),e.setValue(n),t.update(),Dt.trigger("process")})),o=new h.ZP.Input("init",Z.de.initVal,P.numSocket().valSocket);o.addControl(new M(((t,e)=>{n.setInitial(e)}),"init",!1,Z.de.val)),this.variables.set(t.id,n);const i=new h.ZP.Output("ref",Z.de.ref,P.numSocket().refSocket),a=new h.ZP.Output("val",Z.de.curVal,P.numSocket().valSocket),s=new h.ZP.Output("type",Z.de.type,P.typeSocket);return t.addControl(e).addInput(o).addOutput(s).addOutput(i).addOutput(a)}setPreview(t,e){const n=t.controls.get("curVal");n&&n.setValue(e)}worker(t,e,n){const o=e["init"].length?e["init"][0]:t.data.init,i=this.variables.get(t.id);i.setInitial(o);const a=Dt.nodes.find((e=>e.id==t.id));this.setPreview(a,i.get()),n["val"]=i.get(),n["ref"]=i,n["type"]="number"}}function K(t,e,n,o,a,s){return(0,i.wg)(),(0,i.iD)("button",{onClick:e[0]||(e[0]=t=>s.change(""))})}var X={props:["emitter","ikey"],name:"VueButtonComponent",methods:{change(t){this.emitter(t)}}};const $=(0,R.Z)(X,[["render",K],["__scopeId","data-v-0e180730"]]);var tt=$;class et extends h.ZP.Control{constructor(t,e){super(e),(0,y.Z)(this,"component",void 0),(0,y.Z)(this,"props",void 0),this.component=tt,this.props={emitter:t,ikey:e}}}class nt{constructor(){(0,y.Z)(this,"listeners",new Map),this.listeners}on(t,e,n){for(const o of t)this.listeners.get(o)||this.listeners.set(o,new Map),this.listeners.get(o).set(e,n)}removeListener(t){for(const e of this.listeners.keys())this.listeners.get(e)&&this.listeners.get(e).delete(t)}trigger(t,...e){if(this.listeners.get(t))for(const n of this.listeners.get(t).values())new Promise((t=>setTimeout(t,0))).then((()=>n(t,e)))}}const ot=new nt;var it=ot;class at extends h.ZP.Component{constructor(){super(Z.de.button)}async builder(t){t.addControl(new et((()=>{it.trigger(t.id+"-onClick")}),"start")),t.addOutput(new h.ZP.Output("act","",P.actSocket()))}worker(t,e,n){n["act"]=t.id+"-onClick"}}class st extends h.ZP.Component{constructor(){super(Z.de.setVar),(0,y.Z)(this,"types",void 0),this.types=new Map}async builder(t){const e=new h.ZP.Input("ref",Z.de.ref,P.anyTypeSocket.refSocket),n=new h.ZP.Input("val",Z.de.val,P.anyTypeSocket.valSocket),o=new h.ZP.Input("act",Z.de.act,P.actSocket()),i=new h.ZP.Output("act",Z.de.act,P.actSocket());return t.addInput(e).addInput(n).addInput(o).addOutput(i)}worker(t,e,n){it.removeListener(t.id);const o=this.editor.nodes.find((e=>e.id==t.id)),i=o.getConnections().find(((t,e)=>"ref"==t.input.key)),a=o.getConnections().find(((t,e)=>"val"==t.input.key));i&&i.output.socket&&a&&a.output.socket&&a.output.socket!=P.getValByRef(i.output.socket)?a.remove():i&&i.output.socket?o.inputs.get("val").socket=P.getValByRef(i.output.socket):a&&a.output.socket&&(o.inputs.get("ref").socket=P.getRefByVal(a.output.socket)),n["act"]=t.id+"",it.on([e["act"][0]],t.id,((n,...o)=>{this.task(t,e)}))}async task(t,e){const n=e["ref"][0],o=e["val"][0];n&&null!=o&&n.set(o)}}const rt={class:"control title"},ct={style:{margin:"0",display:"flex","align-items":"center","justify-content":"center"}},ut={class:"bar-container"};function dt(t,e,n,o,a,s){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",rt,(0,V.zw)(n.title?n.title+":":""),1),(0,i._)("div",ct,[(0,i._)("div",ut,[(0,i._)("div",{class:"bar",style:(0,V.j5)("width:"+a.value+"%")},null,4)])])],64)}var lt={props:["ikey","getData","putData","title"],name:"VueLoadingComponent",data(){return{value:100}},mounted(){this.value=this.getData(this.ikey)}};(0,i.bv)((()=>{(void 0).value=(void 0).getData((void 0).ikey)}));const pt=(0,R.Z)(lt,[["render",dt],["__scopeId","data-v-2a5fc972"]]);var vt=pt;class ht extends h.ZP.Control{constructor(t,e,n=!1,o=null){super(e),(0,y.Z)(this,"component",void 0),(0,y.Z)(this,"props",void 0),(0,y.Z)(this,"cur",1),(0,y.Z)(this,"max",1),this.component=vt,this.props={ikey:e,title:o}}setValue(t){this.vueContext.value=t}getValue(){return this.vueContext.value}}class kt extends h.ZP.Component{constructor(){super(Z.de.wait),(0,y.Z)(this,"variables",new Map)}async builder(t){const e=new ht(((t,e)=>{}),"preview",!0),n=new M(((t,n)=>{const o=i.getInitial();i.setInitial(n),e.setValue(o*e.getValue()/n)}),"val",!1),o=new h.ZP.Input("val",Z.de.initTime,P.get("number").valSocket),i=new U((t=>{e.setValue(Math.round(100*t/i.getInitial()))}));return o.addControl(n),this.variables.set(t.id,i),t.addInput(o).addControl(e).addOutput(new h.ZP.Output("act","",P.actSocket())).addInput(new h.ZP.Input("act","",P.actSocket()))}worker(t,e,n){it.removeListener(t.id);Dt.nodes.find((e=>e.id==t.id));const o=this.variables.get(t.id),i=e["val"].length?e["val"][0]:t.data.val;n["act"]=t.id+"",o.setInitial(i),it.on([e["act"][0]],t.id,((n,...o)=>{this.task(t,e)}))}delay(t){return new Promise((e=>setTimeout(e,t)))}async task(t,e){const n=this.variables.get(t.id);if(n.getEdited())return void n.reset();let o=Date.now(),i=o;const a=10;while(n.get()>0)await this.delay(a),i=Date.now(),n.set(n.get()-(i-o)/1e3),o=i;n.reset(),n.set(n.get()),it.trigger(t.id+"")}}class mt extends h.ZP.Component{constructor(){super(Z.de.trigger)}async builder(t){t.addInput(new h.ZP.Input("actRef","",P.eventSocket())),t.addInput(new h.ZP.Input("act","",P.actSocket(),!0))}worker(t,e,n){it.removeListener(t.id),it.on(e["act"],t.id,((t,...n)=>{null!=e["actRef"][0]&&it.trigger(e["actRef"][0])}))}}class gt extends h.ZP.Component{constructor(){super(Z.de.event)}async builder(t){t.addOutput(new h.ZP.Output("actRef","",P.eventSocket())),t.addOutput(new h.ZP.Output("act","",P.actSocket()))}worker(t,e,n){n["actRef"]=t.id+"-trigger",n["act"]=t.id+"-event",it.removeListener(t.id),it.on([n["actRef"]],t.id,((t,...e)=>{null!=n["act"]&&it.trigger(n["act"])}))}}const wt={class:"control title"},ft={class:"container"},yt={class:"background-container"};function bt(t,e,n,o,a,s){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",wt,(0,V.zw)(n.title?n.title+":":""),1),(0,i._)("div",ft,[(0,i._)("div",{class:"switch",onClick:e[0]||(e[0]=t=>s.change(t))},[(0,i._)("div",yt,[(0,i._)("div",{class:(0,V.C_)("background "+(a.value?"checked":""))},null,2)]),(0,i._)("div",{class:(0,V.C_)("box "+(a.value?"checked":""))},null,2)])])],64)}var St={props:["readonly","emitter","ikey","getData","putData","title"],name:"VueBoolComponent",data(){return{value:!1}},methods:{change(t){console.log(t.target.checked),this.value=!this.value,this.update()},update(){this.ikey&&this.putData(this.ikey,this.value),this.emitter("process",this.value)}},mounted(){this.value=this.getData(this.ikey)}};(0,i.bv)((()=>{(void 0).value=(void 0).getData((void 0).ikey)}));const Zt=(0,R.Z)(St,[["render",bt],["__scopeId","data-v-17cc7d4c"]]);var xt=Zt;class Ct extends h.ZP.Control{constructor(t,e,n=!1,o=null){super(e),(0,y.Z)(this,"component",void 0),(0,y.Z)(this,"props",void 0),this.component=xt,this.props={emitter:t,ikey:e,readonly:n,title:o}}setValue(t){this.vueContext.value=t}getValue(){return this.vueContext.value}}class Pt extends h.ZP.Component{constructor(){super(Z.de.bool)}async builder(t){const e=new h.ZP.Output("bool",Z.de.bool,P.boolSocket().valSocket);return t.addControl(new Ct(((t,e)=>Dt.trigger(t)),"bool",!1)).addOutput(e)}worker(t,e,n){n["bool"]=t.data.bool}}class It extends h.ZP.Component{constructor(){super(Z.de.condition)}async builder(t){const e=new h.ZP.Input("bool",Z.de.bool,P.boolSocket().valSocket),n=new h.ZP.Input("if",Z.de["if"],P.anySocket),o=new h.ZP.Input("else",Z.de["else"],P.anySocket),i=new h.ZP.Output("res",Z.de.res,P.anySocket);return t.addInput(e).addInput(n).addInput(o).addOutput(i)}reconnectOutput(t,e,n){t&&(n.compatibleWith(t.socket)||e?.remove(),t.socket=n)}reconnectInput(t,e,n){t&&(n.compatibleWith(t.socket)||e?.remove(),t.socket=n)}worker(t,e,n){it.removeListener(t.id);const o=this.editor.nodes.find((e=>e.id==t.id)),i=o.getConnections().find(((t,e)=>"if"==t.input.key)),a=o.getConnections().find(((t,e)=>"else"==t.input.key)),s=o.getConnections().find(((t,e)=>"res"==t.input.key));let r=P.anySocket;i&&i.output.socket?r=i.output.socket:a&&a.output.socket?r=a.output.socket:s&&s.output.socket&&(r=s.output.socket),this.reconnectInput(o.inputs.get("if"),i,r),this.reconnectInput(o.inputs.get("else"),a,r),this.reconnectOutput(o.outputs.get("res"),s,r),console.log(e["bool"][0]),n["res"]=e["bool"][0]?e["if"][0]:e["else"][0]}}class Vt extends h.it{trigger(t,e){return super.trigger(t,e)}}const Ot={id:"demo@0.1.0",nodes:{14:{id:14,data:{},inputs:{in:{connections:[{node:15,output:"val",data:{}}]}},outputs:{},position:[475.704839080989,-67.21715615165667],name:"Anzeige"},15:{id:15,data:{init:1},inputs:{init:{connections:[]}},outputs:{type:{connections:[]},ref:{connections:[{node:17,input:"ref",data:{}}]},val:{connections:[{node:19,input:"num",data:{}},{node:20,input:"num",data:{}},{node:14,input:"in",data:{}}]}},position:[-296.13244996723756,-192.81906941216266],name:"Variable:\nZahl"},16:{id:16,data:{bool:!1},inputs:{},outputs:{bool:{connections:[{node:18,input:"bool",data:{}}]}},position:[87.00270014444396,49.81343543681821],name:"Wahrheitswert"},17:{id:17,data:{},inputs:{ref:{connections:[{node:15,output:"ref",data:{}}]},val:{connections:[{node:18,output:"res",data:{}}]},act:{connections:[{node:25,output:"res",data:{}}]}},outputs:{act:{connections:[]}},position:[801.587425854445,-191.34663947969932],name:"Setze Variable"},18:{id:18,data:{},inputs:{bool:{connections:[{node:16,output:"bool",data:{}}]},if:{connections:[{node:19,output:"num",data:{}}]},else:{connections:[{node:20,output:"num",data:{}}]}},outputs:{res:{connections:[{node:17,input:"val",data:{}}]}},position:[463.3349592855515,155.716431618088],name:"Bedingung"},19:{id:19,data:{num2:1},inputs:{num:{connections:[{node:15,output:"val",data:{}}]},num2:{connections:[]}},outputs:{num:{connections:[{node:18,input:"if",data:{}}]}},position:[93.07408603372114,222.43367702103302],name:"Addiere"},20:{id:20,data:{num2:-1},inputs:{num:{connections:[{node:15,output:"val",data:{}}]},num2:{connections:[]}},outputs:{num:{connections:[{node:18,input:"else",data:{}}]}},position:[86.66979646391361,472.41367906726475],name:"Addiere"},21:{id:21,data:{},inputs:{},outputs:{actRef:{connections:[{node:23,input:"actRef",data:{}}]},act:{connections:[{node:25,input:"if",data:{}},{node:22,input:"act",data:{}}]}},position:[202.98477439531933,-837.9360977894372],name:"Ereigniss"},22:{id:22,data:{val:3},inputs:{val:{connections:[]},act:{connections:[{node:21,output:"act",data:{}}]}},outputs:{act:{connections:[{node:23,input:"act",data:{}}]}},position:[761.4111930880648,-727.0837792118829],name:"Warten"},23:{id:23,data:{},inputs:{actRef:{connections:[{node:21,output:"actRef",data:{}}]},act:{connections:[{node:22,output:"act",data:{}},{node:24,output:"act",data:{}}]}},outputs:{},position:[1341.105416979991,-841.0902379918624],name:"Auslöser"},24:{id:24,data:{},inputs:{},outputs:{act:{connections:[{node:23,input:"act",data:{}}]}},position:[1072.8360171208794,-654.9653428776915],name:"Drücker"},25:{id:25,data:{},inputs:{bool:{connections:[{node:26,output:"bool",data:{}}]},if:{connections:[{node:21,output:"act",data:{}}]},else:{connections:[]}},outputs:{res:{connections:[{node:17,input:"act",data:{}}]}},position:[527.3702224344131,-502.231731391048],name:"Bedingung"},26:{id:26,data:{bool:!1},inputs:{},outputs:{bool:{connections:[{node:25,input:"bool",data:{}}]}},position:[151.64642561674276,-520.2168585287731],name:"Wahrheitswert"}}};let Dt=null;function _t(){const t=JSON.stringify(Dt),e=new Blob([t],{type:"text/json"}),n=document.createEvent("MouseEvents"),o=document.createElement("a");o.download="save.json",o.href=window.URL.createObjectURL(e),o.dataset.downloadurl=["text/json",o.download,o.href].join(":"),n.initEvent("click",!0,!1),o.dispatchEvent(n)}async function Wt(t){Dt=new Vt("demo@0.1.0",t);const e=new h.ZP.Engine("demo@0.1.0");Dt.use(m.Z),Dt.use(k.Z),Dt.use(w.Z,{background:!1,snap:!1,scaleExtent:{min:.25,max:1},translateExtent:{width:5e3,height:4e3}});const n=new I(".output-view");Dt.register(n),e.register(n),Dt.use(g.ZP),Dt.use(f.Z,{container:document.querySelector(".dock"),plugins:[k.Z]});const o=[new j,new B,new Y,new q,new F,new G,new at,new st,new kt,new mt,new gt,new Pt,new It];for(let i=0;i<o.length;i++)Dt.register(o[i]),e.register(o[i]);await Dt.fromJSON(Ot);for(const i of Object.values(Ot.nodes))if(Dt.nodes.find((t=>t.id==i.id))){const t=Dt.nodes.find((t=>t.id==i.id));t.worker&&t.worker(i,[],[])}Dt.on(["connectioncreate","connectionremove","nodecreate","noderemove"],(t=>{Dt.trigger("process")})),Dt.on("process",(async()=>{console.log("json",Dt.toJSON()),await e.abort(),await e.process(Dt.toJSON())})),Dt.view.resize(),Dt.trigger("process")}var Rt={name:"ReteEditor",setup(){const t=(0,v.iH)(null);return(0,i.bv)((()=>{Wt(t.value)})),{reteElm:t}}};const Tt=(0,R.Z)(Rt,[["render",p]]);var Et=Tt;const Mt={class:"dock"},jt=(0,i._)("h3",null,"Options",-1),Bt=[jt];function Lt(t,e,n,o,a,s){return(0,i.wg)(),(0,i.iD)("div",Mt,Bt)}var zt={name:"ReteDock",setup(){}};const At=(0,R.Z)(zt,[["render",Lt]]);var Ht,Nt,Jt=At;let Qt=(Ht=(0,d.Ei)({components:{ReteEditor:Et,ReteDock:Jt},methods:{triggDownload(){_t()}}}),Ht(Nt=class extends d.w3{})||Nt);const Yt=(0,R.Z)(Qt,[["render",u]]);var qt=Yt;(0,o.ri)(qt).mount("#app")}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var a=e[o]={exports:{}};return t[o](a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,o,i,a){if(!o){var s=1/0;for(d=0;d<t.length;d++){o=t[d][0],i=t[d][1],a=t[d][2];for(var r=!0,c=0;c<o.length;c++)(!1&a||s>=a)&&Object.keys(n.O).every((function(t){return n.O[t](o[c])}))?o.splice(c--,1):(r=!1,a<s&&(s=a));if(r){t.splice(d--,1);var u=i();void 0!==u&&(e=u)}}return e}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[o,i,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,a,s=o[0],r=o[1],c=o[2],u=0;if(s.some((function(e){return 0!==t[e]}))){for(i in r)n.o(r,i)&&(n.m[i]=r[i]);if(c)var d=c(n)}for(e&&e(o);u<s.length;u++)a=s[u],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(d)},o=self["webpackChunkspreadboard"]=self["webpackChunkspreadboard"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(9939)}));o=n.O(o)})();
//# sourceMappingURL=app.ab7f240f.js.map